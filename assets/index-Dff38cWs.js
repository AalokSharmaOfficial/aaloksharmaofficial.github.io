function Af(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Nf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function If(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var lc={exports:{}},di={},uc={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hn=Symbol.for("react.element"),Lf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Bf=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),Wf=Symbol.for("react.lazy"),bl=Symbol.iterator;function Hf(t){return t===null||typeof t!="object"?null:(t=bl&&t[bl]||t["@@iterator"],typeof t=="function"?t:null)}var cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dc=Object.assign,hc={};function qr(t,e,r){this.props=t,this.context=e,this.refs=hc,this.updater=r||cc}qr.prototype.isReactComponent={};qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fc(){}fc.prototype=qr.prototype;function wa(t,e,r){this.props=t,this.context=e,this.refs=hc,this.updater=r||cc}var _a=wa.prototype=new fc;_a.constructor=wa;dc(_a,qr.prototype);_a.isPureReactComponent=!0;var Tl=Array.isArray,pc=Object.prototype.hasOwnProperty,Sa={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function vc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)pc.call(e,n)&&!gc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Hn,type:t,key:i,ref:o,props:s,_owner:Sa.current}}function Kf(t,e){return{$$typeof:Hn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ka(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hn}function qf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ol=/\/+/g;function Ci(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qf(""+t.key):e.toString(36)}function xs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hn:case Lf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ci(o,0):n,Tl(s)?(r="",t!=null&&(r=t.replace(Ol,"$&/")+"/"),xs(s,e,r,"",function(u){return u})):s!=null&&(ka(s)&&(s=Kf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ol,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Tl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Ci(i,a);o+=xs(i,e,r,l,s)}else if(l=Hf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Ci(i,a++),o+=xs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xn(t,e,r){if(t==null)return t;var n=[],s=0;return xs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Gf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},bs={transition:null},Jf={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:bs,ReactCurrentOwner:Sa};function mc(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Xn,forEach:function(t,e,r){Xn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xn(t,function(){e++}),e},toArray:function(t){return Xn(t,function(e){return e})||[]},only:function(t){if(!ka(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=qr;L.Fragment=Df;L.Profiler=Uf;L.PureComponent=wa;L.StrictMode=$f;L.Suspense=Ff;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;L.act=mc;L.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=dc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pc.call(e,l)&&!gc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Hn,type:t.type,key:s,ref:i,props:n,_owner:o}};L.createContext=function(t){return t={$$typeof:Bf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zf,_context:t},t.Consumer=t};L.createElement=vc;L.createFactory=function(t){var e=vc.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Mf,render:t}};L.isValidElement=ka;L.lazy=function(t){return{$$typeof:Wf,_payload:{_status:-1,_result:t},_init:Gf}};L.memo=function(t,e){return{$$typeof:Vf,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=bs.transition;bs.transition={};try{t()}finally{bs.transition=e}};L.unstable_act=mc;L.useCallback=function(t,e){return ke.current.useCallback(t,e)};L.useContext=function(t){return ke.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};L.useEffect=function(t,e){return ke.current.useEffect(t,e)};L.useId=function(){return ke.current.useId()};L.useImperativeHandle=function(t,e,r){return ke.current.useImperativeHandle(t,e,r)};L.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return ke.current.useMemo(t,e)};L.useReducer=function(t,e,r){return ke.current.useReducer(t,e,r)};L.useRef=function(t){return ke.current.useRef(t)};L.useState=function(t){return ke.current.useState(t)};L.useSyncExternalStore=function(t,e,r){return ke.current.useSyncExternalStore(t,e,r)};L.useTransition=function(){return ke.current.useTransition()};L.version="18.3.1";uc.exports=L;var D=uc.exports;const Qf=Nf(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=D,Xf=Symbol.for("react.element"),Zf=Symbol.for("react.fragment"),ep=Object.prototype.hasOwnProperty,tp=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rp={key:!0,ref:!0,__self:!0,__source:!0};function yc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ep.call(e,n)&&!rp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Xf,type:t,key:i,ref:o,props:s,_owner:tp.current}}di.Fragment=Zf;di.jsx=yc;di.jsxs=yc;lc.exports=di;var w=lc.exports,co={},wc={exports:{}},De={},_c={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,R){var N=b.length;b.push(R);e:for(;0<N;){var F=N-1>>>1,re=b[F];if(0<s(re,R))b[F]=R,b[N]=re,N=F;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var R=b[0],N=b.pop();if(N!==R){b[0]=N;e:for(var F=0,re=b.length,dr=re>>>1;F<dr;){var ot=2*(F+1)-1,Zr=b[ot],Vt=ot+1,Yn=b[Vt];if(0>s(Zr,N))Vt<re&&0>s(Yn,Zr)?(b[F]=Yn,b[Vt]=N,F=Vt):(b[F]=Zr,b[ot]=N,F=ot);else if(Vt<re&&0>s(Yn,N))b[F]=Yn,b[Vt]=N,F=Vt;else break e}}return R}function s(b,R){var N=b.sortIndex-R.sortIndex;return N!==0?N:b.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,v=!1,m=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(b){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=b)n(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(u)}}function _(b){if(y=!1,p(b),!m)if(r(l)!==null)m=!0,q(E);else{var R=r(u);R!==null&&te(_,R.startTime-b)}}function E(b,R){m=!1,y&&(y=!1,g(j),j=-1),v=!0;var N=d;try{for(p(R),h=r(l);h!==null&&(!(h.expirationTime>R)||b&&!Ce());){var F=h.callback;if(typeof F=="function"){h.callback=null,d=h.priorityLevel;var re=F(h.expirationTime<=R);R=t.unstable_now(),typeof re=="function"?h.callback=re:h===r(l)&&n(l),p(R)}else n(l);h=r(l)}if(h!==null)var dr=!0;else{var ot=r(u);ot!==null&&te(_,ot.startTime-R),dr=!1}return dr}finally{h=null,d=N,v=!1}}var x=!1,T=null,j=-1,U=5,I=-1;function Ce(){return!(t.unstable_now()-I<U)}function Ft(){if(T!==null){var b=t.unstable_now();I=b;var R=!0;try{R=T(!0,b)}finally{R?yt():(x=!1,T=null)}}else x=!1}var yt;if(typeof f=="function")yt=function(){f(Ft)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=Ft,yt=function(){B.postMessage(null)}}else yt=function(){S(Ft,0)};function q(b){T=b,x||(x=!0,yt())}function te(b,R){j=S(function(){b(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){m||v||(m=!0,q(E))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(b){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var N=d;d=R;try{return b()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,R){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var N=d;d=b;try{return R()}finally{d=N}},t.unstable_scheduleCallback=function(b,R,N){var F=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?F+N:F):N=F,b){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=N+re,b={id:c++,callback:R,priorityLevel:b,startTime:N,expirationTime:re,sortIndex:-1},N>F?(b.sortIndex=N,e(u,b),r(l)===null&&b===r(u)&&(y?(g(j),j=-1):y=!0,te(_,N-F))):(b.sortIndex=re,e(l,b),m||v||(m=!0,q(E))),b},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(b){var R=d;return function(){var N=d;d=R;try{return b.apply(this,arguments)}finally{d=N}}}})(Sc);_c.exports=Sc;var np=_c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=D,Le=np;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kc=new Set,bn={};function ur(t,e){zr(t,e),zr(t+"Capture",e)}function zr(t,e){for(bn[t]=e,t=0;t<e.length;t++)kc.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=Object.prototype.hasOwnProperty,ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jl={},Cl={};function op(t){return ho.call(Cl,t)?!0:ho.call(jl,t)?!1:ip.test(t)?Cl[t]=!0:(jl[t]=!0,!1)}function ap(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lp(t,e,r,n){if(e===null||typeof e>"u"||ap(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ea,xa);pe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ea,xa);pe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ea,xa);pe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function ba(t,e,r,n){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lp(e,r,s,n)&&(r=null),n||s===null?op(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mt=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zn=Symbol.for("react.element"),_r=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),fo=Symbol.for("react.profiler"),Ec=Symbol.for("react.provider"),xc=Symbol.for("react.context"),Oa=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),go=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),bc=Symbol.for("react.offscreen"),Pl=Symbol.iterator;function en(t){return t===null||typeof t!="object"?null:(t=Pl&&t[Pl]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,Pi;function un(t){if(Pi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Pi=e&&e[1]||""}return`
`+Pi+t}var Ri=!1;function Ai(t,e){if(!t||Ri)return"";Ri=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ri=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?un(t):""}function up(t){switch(t.tag){case 5:return un(t.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 2:case 15:return t=Ai(t.type,!1),t;case 11:return t=Ai(t.type.render,!1),t;case 1:return t=Ai(t.type,!0),t;default:return""}}function vo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sr:return"Fragment";case _r:return"Portal";case fo:return"Profiler";case Ta:return"StrictMode";case po:return"Suspense";case go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xc:return(t.displayName||"Context")+".Consumer";case Ec:return(t._context.displayName||"Context")+".Provider";case Oa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ja:return e=t.displayName||null,e!==null?e:vo(t.type)||"Memo";case St:e=t._payload,t=t._init;try{return vo(t(e))}catch{}}return null}function cp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vo(e);case 8:return e===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dp(t){var e=Tc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function es(t){t._valueTracker||(t._valueTracker=dp(t))}function Oc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Tc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mo(t,e){var r=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Rl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jc(t,e){e=e.checked,e!=null&&ba(t,"checked",e,!1)}function yo(t,e){jc(t,e);var r=Dt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wo(t,e.type,r):e.hasOwnProperty("defaultValue")&&wo(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Al(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wo(t,e,r){(e!=="number"||Ds(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var cn=Array.isArray;function Ar(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _o(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(cn(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dt(r)}}function Cc(t,e){var r=Dt(e.value),n=Dt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Il(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ts,Rc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(pn).forEach(function(t){hp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pn[e]=pn[t]})});function Ac(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pn.hasOwnProperty(t)&&pn[t]?(""+e).trim():e+"px"}function Nc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ac(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var fp=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(t,e){if(e){if(fp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Eo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bo=null,Nr=null,Ir=null;function Ll(t){if(t=Gn(t)){if(typeof bo!="function")throw Error(k(280));var e=t.stateNode;e&&(e=vi(e),bo(t.stateNode,t.type,e))}}function Ic(t){Nr?Ir?Ir.push(t):Ir=[t]:Nr=t}function Lc(){if(Nr){var t=Nr,e=Ir;if(Ir=Nr=null,Ll(t),e)for(t=0;t<e.length;t++)Ll(e[t])}}function Dc(t,e){return t(e)}function $c(){}var Ni=!1;function Uc(t,e,r){if(Ni)return t(e,r);Ni=!0;try{return Dc(t,e,r)}finally{Ni=!1,(Nr!==null||Ir!==null)&&($c(),Lc())}}function On(t,e){var r=t.stateNode;if(r===null)return null;var n=vi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var To=!1;if(ft)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){To=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{To=!1}function pp(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var gn=!1,$s=null,Us=!1,Oo=null,gp={onError:function(t){gn=!0,$s=t}};function vp(t,e,r,n,s,i,o,a,l){gn=!1,$s=null,pp.apply(gp,arguments)}function mp(t,e,r,n,s,i,o,a,l){if(vp.apply(this,arguments),gn){if(gn){var u=$s;gn=!1,$s=null}else throw Error(k(198));Us||(Us=!0,Oo=u)}}function cr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function zc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dl(t){if(cr(t)!==t)throw Error(k(188))}function yp(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dl(s),t;if(i===n)return Dl(s),e;i=i.sibling}throw Error(k(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function Bc(t){return t=yp(t),t!==null?Mc(t):null}function Mc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mc(t);if(e!==null)return e;t=t.sibling}return null}var Fc=Le.unstable_scheduleCallback,$l=Le.unstable_cancelCallback,wp=Le.unstable_shouldYield,_p=Le.unstable_requestPaint,ee=Le.unstable_now,Sp=Le.unstable_getCurrentPriorityLevel,Pa=Le.unstable_ImmediatePriority,Vc=Le.unstable_UserBlockingPriority,zs=Le.unstable_NormalPriority,kp=Le.unstable_LowPriority,Wc=Le.unstable_IdlePriority,hi=null,st=null;function Ep(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Tp,xp=Math.log,bp=Math.LN2;function Tp(t){return t>>>=0,t===0?32:31-(xp(t)/bp|0)|0}var rs=64,ns=4194304;function dn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=dn(a):(i&=o,i!==0&&(n=dn(i)))}else o=r&~s,o!==0?n=dn(o):i!==0&&(n=dn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xe(e),s=1<<r,n|=t[r],e&=~s;return n}function Op(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Op(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function jo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hc(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Ii(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=r}function Cp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ra(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Kc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qc,Aa,Gc,Jc,Qc,Co=!1,ss=[],jt=null,Ct=null,Pt=null,jn=new Map,Cn=new Map,Et=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(e.pointerId)}}function rn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gn(e),e!==null&&Aa(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Rp(t,e,r,n,s){switch(e){case"focusin":return jt=rn(jt,t,e,r,n,s),!0;case"dragenter":return Ct=rn(Ct,t,e,r,n,s),!0;case"mouseover":return Pt=rn(Pt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return jn.set(i,rn(jn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Cn.set(i,rn(Cn.get(i)||null,t,e,r,n,s)),!0}return!1}function Yc(t){var e=Xt(t.target);if(e!==null){var r=cr(e);if(r!==null){if(e=r.tag,e===13){if(e=zc(r),e!==null){t.blockedOn=e,Qc(t.priority,function(){Gc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ts(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Po(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);xo=n,r.target.dispatchEvent(n),xo=null}else return e=Gn(r),e!==null&&Aa(e),t.blockedOn=r,!1;e.shift()}return!0}function zl(t,e,r){Ts(t)&&r.delete(e)}function Ap(){Co=!1,jt!==null&&Ts(jt)&&(jt=null),Ct!==null&&Ts(Ct)&&(Ct=null),Pt!==null&&Ts(Pt)&&(Pt=null),jn.forEach(zl),Cn.forEach(zl)}function nn(t,e){t.blockedOn===e&&(t.blockedOn=null,Co||(Co=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,Ap)))}function Pn(t){function e(s){return nn(s,t)}if(0<ss.length){nn(ss[0],t);for(var r=1;r<ss.length;r++){var n=ss[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jt!==null&&nn(jt,t),Ct!==null&&nn(Ct,t),Pt!==null&&nn(Pt,t),jn.forEach(e),Cn.forEach(e),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)Yc(r),r.blockedOn===null&&Et.shift()}var Lr=mt.ReactCurrentBatchConfig,Ms=!0;function Np(t,e,r,n){var s=M,i=Lr.transition;Lr.transition=null;try{M=1,Na(t,e,r,n)}finally{M=s,Lr.transition=i}}function Ip(t,e,r,n){var s=M,i=Lr.transition;Lr.transition=null;try{M=4,Na(t,e,r,n)}finally{M=s,Lr.transition=i}}function Na(t,e,r,n){if(Ms){var s=Po(t,e,r,n);if(s===null)Wi(t,e,n,Fs,r),Ul(t,n);else if(Rp(s,t,e,r,n))n.stopPropagation();else if(Ul(t,n),e&4&&-1<Pp.indexOf(t)){for(;s!==null;){var i=Gn(s);if(i!==null&&qc(i),i=Po(t,e,r,n),i===null&&Wi(t,e,n,Fs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wi(t,e,n,null,r)}}var Fs=null;function Po(t,e,r,n){if(Fs=null,t=Ca(n),t=Xt(t),t!==null)if(e=cr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=zc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function Xc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case Pa:return 1;case Vc:return 4;case zs:case kp:return 16;case Wc:return 536870912;default:return 16}default:return 16}}var Tt=null,Ia=null,Os=null;function Zc(){if(Os)return Os;var t,e=Ia,r=e.length,n,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Os=s.slice(t,1<n?1-n:void 0)}function js(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function Bl(){return!1}function $e(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:Bl,this.isPropagationStopped=Bl,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),e}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=$e(Gr),qn=X({},Gr,{view:0,detail:0}),Lp=$e(qn),Li,Di,sn,fi=X({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sn&&(sn&&t.type==="mousemove"?(Li=t.screenX-sn.screenX,Di=t.screenY-sn.screenY):Di=Li=0,sn=t),Li)},movementY:function(t){return"movementY"in t?t.movementY:Di}}),Ml=$e(fi),Dp=X({},fi,{dataTransfer:0}),$p=$e(Dp),Up=X({},qn,{relatedTarget:0}),$i=$e(Up),zp=X({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bp=$e(zp),Mp=X({},Gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fp=$e(Mp),Vp=X({},Gr,{data:0}),Fl=$e(Vp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kp[t])?!!e[t]:!1}function Da(){return qp}var Gp=X({},qn,{key:function(t){if(t.key){var e=Wp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jp=$e(Gp),Qp=X({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=$e(Qp),Yp=X({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Xp=$e(Yp),Zp=X({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=$e(Zp),tg=X({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rg=$e(tg),ng=[9,13,27,32],$a=ft&&"CompositionEvent"in window,vn=null;ft&&"documentMode"in document&&(vn=document.documentMode);var sg=ft&&"TextEvent"in window&&!vn,ed=ft&&(!$a||vn&&8<vn&&11>=vn),Wl=" ",Hl=!1;function td(t,e){switch(t){case"keyup":return ng.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function ig(t,e){switch(t){case"compositionend":return rd(e);case"keypress":return e.which!==32?null:(Hl=!0,Wl);case"textInput":return t=e.data,t===Wl&&Hl?null:t;default:return null}}function og(t,e){if(kr)return t==="compositionend"||!$a&&td(t,e)?(t=Zc(),Os=Ia=Tt=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ed&&e.locale!=="ko"?null:e.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ag[t.type]:e==="textarea"}function nd(t,e,r,n){Ic(n),e=Vs(e,"onChange"),0<e.length&&(r=new La("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mn=null,Rn=null;function lg(t){pd(t,0)}function pi(t){var e=br(t);if(Oc(e))return t}function ug(t,e){if(t==="change")return e}var sd=!1;if(ft){var Ui;if(ft){var zi="oninput"in document;if(!zi){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),zi=typeof ql.oninput=="function"}Ui=zi}else Ui=!1;sd=Ui&&(!document.documentMode||9<document.documentMode)}function Gl(){mn&&(mn.detachEvent("onpropertychange",id),Rn=mn=null)}function id(t){if(t.propertyName==="value"&&pi(Rn)){var e=[];nd(e,Rn,t,Ca(t)),Uc(lg,e)}}function cg(t,e,r){t==="focusin"?(Gl(),mn=e,Rn=r,mn.attachEvent("onpropertychange",id)):t==="focusout"&&Gl()}function dg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pi(Rn)}function hg(t,e){if(t==="click")return pi(e)}function fg(t,e){if(t==="input"||t==="change")return pi(e)}function pg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:pg;function An(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ho.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Jl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ql(t,e){var r=Jl(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jl(r)}}function od(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?od(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ad(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gg(t){var e=ad(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&od(r.ownerDocument.documentElement,r)){if(n!==null&&Ua(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ql(r,i);var o=Ql(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vg=ft&&"documentMode"in document&&11>=document.documentMode,Er=null,Ro=null,yn=null,Ao=!1;function Yl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ao||Er==null||Er!==Ds(n)||(n=Er,"selectionStart"in n&&Ua(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yn&&An(yn,n)||(yn=n,n=Vs(Ro,"onSelect"),0<n.length&&(e=new La("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Er)))}function os(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Bi={},ld={};ft&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function gi(t){if(Bi[t])return Bi[t];if(!xr[t])return t;var e=xr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ld)return Bi[t]=e[r];return t}var ud=gi("animationend"),cd=gi("animationiteration"),dd=gi("animationstart"),hd=gi("transitionend"),fd=new Map,Xl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){fd.set(t,e),ur(e,[t])}for(var Mi=0;Mi<Xl.length;Mi++){var Fi=Xl[Mi],mg=Fi.toLowerCase(),yg=Fi[0].toUpperCase()+Fi.slice(1);Ut(mg,"on"+yg)}Ut(ud,"onAnimationEnd");Ut(cd,"onAnimationIteration");Ut(dd,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(hd,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(hn));function Zl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mp(n,e,void 0,t),t.currentTarget=null}function pd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zl(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zl(s,a,u),i=l}}}if(Us)throw t=Oo,Us=!1,Oo=null,t}function H(t,e){var r=e[$o];r===void 0&&(r=e[$o]=new Set);var n=t+"__bubble";r.has(n)||(gd(e,t,2,!1),r.add(n))}function Vi(t,e,r){var n=0;e&&(n|=4),gd(r,t,n,e)}var as="_reactListening"+Math.random().toString(36).slice(2);function Nn(t){if(!t[as]){t[as]=!0,kc.forEach(function(r){r!=="selectionchange"&&(wg.has(r)||Vi(r,!1,t),Vi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[as]||(e[as]=!0,Vi("selectionchange",!1,e))}}function gd(t,e,r,n){switch(Xc(e)){case 1:var s=Np;break;case 4:s=Ip;break;default:s=Na}r=s.bind(null,e,r,t),s=void 0,!To||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Wi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Uc(function(){var u=i,c=Ca(r),h=[];e:{var d=fd.get(t);if(d!==void 0){var v=La,m=t;switch(t){case"keypress":if(js(r)===0)break e;case"keydown":case"keyup":v=Jp;break;case"focusin":m="focus",v=$i;break;case"focusout":m="blur",v=$i;break;case"beforeblur":case"afterblur":v=$i;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Xp;break;case ud:case cd:case dd:v=Bp;break;case hd:v=eg;break;case"scroll":v=Lp;break;case"wheel":v=rg;break;case"copy":case"cut":case"paste":v=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Vl}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var f=u,p;f!==null;){p=f;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=On(f,g),_!=null&&y.push(In(f,_,p)))),S)break;f=f.return}0<y.length&&(d=new v(d,m,null,r,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",d&&r!==xo&&(m=r.relatedTarget||r.fromElement)&&(Xt(m)||m[pt]))break e;if((v||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,v?(m=r.relatedTarget||r.toElement,v=u,m=m?Xt(m):null,m!==null&&(S=cr(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(y=Ml,_="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=Vl,_="onPointerLeave",g="onPointerEnter",f="pointer"),S=v==null?d:br(v),p=m==null?d:br(m),d=new y(_,f+"leave",v,r,c),d.target=S,d.relatedTarget=p,_=null,Xt(c)===u&&(y=new y(g,f+"enter",m,r,c),y.target=p,y.relatedTarget=S,_=y),S=_,v&&m)t:{for(y=v,g=m,f=0,p=y;p;p=hr(p))f++;for(p=0,_=g;_;_=hr(_))p++;for(;0<f-p;)y=hr(y),f--;for(;0<p-f;)g=hr(g),p--;for(;f--;){if(y===g||g!==null&&y===g.alternate)break t;y=hr(y),g=hr(g)}y=null}else y=null;v!==null&&eu(h,d,v,y,!1),m!==null&&S!==null&&eu(h,S,m,y,!0)}}e:{if(d=u?br(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var E=ug;else if(Kl(d))if(sd)E=fg;else{E=dg;var x=cg}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=hg);if(E&&(E=E(t,u))){nd(h,E,r,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&wo(d,"number",d.value)}switch(x=u?br(u):window,t){case"focusin":(Kl(x)||x.contentEditable==="true")&&(Er=x,Ro=u,yn=null);break;case"focusout":yn=Ro=Er=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Yl(h,r,c);break;case"selectionchange":if(vg)break;case"keydown":case"keyup":Yl(h,r,c)}var T;if($a)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else kr?td(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(ed&&r.locale!=="ko"&&(kr||j!=="onCompositionStart"?j==="onCompositionEnd"&&kr&&(T=Zc()):(Tt=c,Ia="value"in Tt?Tt.value:Tt.textContent,kr=!0)),x=Vs(u,j),0<x.length&&(j=new Fl(j,t,null,r,c),h.push({event:j,listeners:x}),T?j.data=T:(T=rd(r),T!==null&&(j.data=T)))),(T=sg?ig(t,r):og(t,r))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(c=new Fl("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=T))}pd(h,e)})}function In(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Vs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=On(t,r),i!=null&&n.unshift(In(t,i,s)),i=On(t,e),i!=null&&n.push(In(t,i,s))),t=t.return}return n}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=On(r,i),l!=null&&o.unshift(In(r,l,a))):s||(l=On(r,i),l!=null&&o.push(In(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var _g=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function tu(t){return(typeof t=="string"?t:""+t).replace(_g,`
`).replace(Sg,"")}function ls(t,e,r){if(e=tu(e),tu(t)!==e&&r)throw Error(k(425))}function Ws(){}var No=null,Io=null;function Lo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(t){return ru.resolve(null).then(t).catch(xg)}:Do;function xg(t){setTimeout(function(){throw t})}function Hi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Pn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pn(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),nt="__reactFiber$"+Jr,Ln="__reactProps$"+Jr,pt="__reactContainer$"+Jr,$o="__reactEvents$"+Jr,bg="__reactListeners$"+Jr,Tg="__reactHandles$"+Jr;function Xt(t){var e=t[nt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pt]||r[nt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nu(t);t!==null;){if(r=t[nt])return r;t=nu(t)}return e}t=r,r=t.parentNode}return null}function Gn(t){return t=t[nt]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function vi(t){return t[Ln]||null}var Uo=[],Tr=-1;function zt(t){return{current:t}}function K(t){0>Tr||(t.current=Uo[Tr],Uo[Tr]=null,Tr--)}function W(t,e){Tr++,Uo[Tr]=t.current,t.current=e}var $t={},ye=zt($t),Te=zt(!1),sr=$t;function Br(t,e){var r=t.type.contextTypes;if(!r)return $t;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function Hs(){K(Te),K(ye)}function su(t,e,r){if(ye.current!==$t)throw Error(k(168));W(ye,e),W(Te,r)}function vd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(k(108,cp(t)||"Unknown",s));return X({},r,n)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,sr=ye.current,W(ye,t),W(Te,Te.current),!0}function iu(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=vd(t,e,sr),n.__reactInternalMemoizedMergedChildContext=t,K(Te),K(ye),W(ye,t)):K(Te),W(Te,r)}var ut=null,mi=!1,Ki=!1;function md(t){ut===null?ut=[t]:ut.push(t)}function Og(t){mi=!0,md(t)}function Bt(){if(!Ki&&ut!==null){Ki=!0;var t=0,e=M;try{var r=ut;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ut=null,mi=!1}catch(s){throw ut!==null&&(ut=ut.slice(t+1)),Fc(Pa,Bt),s}finally{M=e,Ki=!1}}return null}var Or=[],jr=0,qs=null,Gs=0,ze=[],Be=0,ir=null,ct=1,dt="";function Kt(t,e){Or[jr++]=Gs,Or[jr++]=qs,qs=t,Gs=e}function yd(t,e,r){ze[Be++]=ct,ze[Be++]=dt,ze[Be++]=ir,ir=t;var n=ct;t=dt;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ct=1<<32-Xe(e)+s|r<<s|n,dt=i+t}else ct=1<<i|r<<s|n,dt=t}function za(t){t.return!==null&&(Kt(t,1),yd(t,1,0))}function Ba(t){for(;t===qs;)qs=Or[--jr],Or[jr]=null,Gs=Or[--jr],Or[jr]=null;for(;t===ir;)ir=ze[--Be],ze[Be]=null,dt=ze[--Be],ze[Be]=null,ct=ze[--Be],ze[Be]=null}var Ie=null,Ne=null,G=!1,Ye=null;function wd(t,e){var r=Me(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ou(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ie=t,Ne=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ie=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ir!==null?{id:ct,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Me(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ie=t,Ne=null,!0):!1;default:return!1}}function zo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(G){var e=Ne;if(e){var r=e;if(!ou(t,e)){if(zo(t))throw Error(k(418));e=Rt(r.nextSibling);var n=Ie;e&&ou(t,e)?wd(n,r):(t.flags=t.flags&-4097|2,G=!1,Ie=t)}}else{if(zo(t))throw Error(k(418));t.flags=t.flags&-4097|2,G=!1,Ie=t}}}function au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ie=t}function us(t){if(t!==Ie)return!1;if(!G)return au(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lo(t.type,t.memoizedProps)),e&&(e=Ne)){if(zo(t))throw _d(),Error(k(418));for(;e;)wd(t,e),e=Rt(e.nextSibling)}if(au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ne=Rt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Ie?Rt(t.stateNode.nextSibling):null;return!0}function _d(){for(var t=Ne;t;)t=Rt(t.nextSibling)}function Mr(){Ne=Ie=null,G=!1}function Ma(t){Ye===null?Ye=[t]:Ye.push(t)}var jg=mt.ReactCurrentBatchConfig;function on(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function cs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lu(t){var e=t._init;return e(t._payload)}function Sd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Lt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,f,p,_){return f===null||f.tag!==6?(f=Zi(p,g.mode,_),f.return=g,f):(f=s(f,p),f.return=g,f)}function l(g,f,p,_){var E=p.type;return E===Sr?c(g,f,p.props.children,_,p.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===St&&lu(E)===f.type)?(_=s(f,p.props),_.ref=on(g,f,p),_.return=g,_):(_=Ls(p.type,p.key,p.props,null,g.mode,_),_.ref=on(g,f,p),_.return=g,_)}function u(g,f,p,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=eo(p,g.mode,_),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function c(g,f,p,_,E){return f===null||f.tag!==7?(f=nr(p,g.mode,_,E),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Zi(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zn:return p=Ls(f.type,f.key,f.props,null,g.mode,p),p.ref=on(g,null,f),p.return=g,p;case _r:return f=eo(f,g.mode,p),f.return=g,f;case St:var _=f._init;return h(g,_(f._payload),p)}if(cn(f)||en(f))return f=nr(f,g.mode,p,null),f.return=g,f;cs(g,f)}return null}function d(g,f,p,_){var E=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:a(g,f,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zn:return p.key===E?l(g,f,p,_):null;case _r:return p.key===E?u(g,f,p,_):null;case St:return E=p._init,d(g,f,E(p._payload),_)}if(cn(p)||en(p))return E!==null?null:c(g,f,p,_,null);cs(g,p)}return null}function v(g,f,p,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,a(f,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zn:return g=g.get(_.key===null?p:_.key)||null,l(f,g,_,E);case _r:return g=g.get(_.key===null?p:_.key)||null,u(f,g,_,E);case St:var x=_._init;return v(g,f,p,x(_._payload),E)}if(cn(_)||en(_))return g=g.get(p)||null,c(f,g,_,E,null);cs(f,_)}return null}function m(g,f,p,_){for(var E=null,x=null,T=f,j=f=0,U=null;T!==null&&j<p.length;j++){T.index>j?(U=T,T=null):U=T.sibling;var I=d(g,T,p[j],_);if(I===null){T===null&&(T=U);break}t&&T&&I.alternate===null&&e(g,T),f=i(I,f,j),x===null?E=I:x.sibling=I,x=I,T=U}if(j===p.length)return r(g,T),G&&Kt(g,j),E;if(T===null){for(;j<p.length;j++)T=h(g,p[j],_),T!==null&&(f=i(T,f,j),x===null?E=T:x.sibling=T,x=T);return G&&Kt(g,j),E}for(T=n(g,T);j<p.length;j++)U=v(T,g,j,p[j],_),U!==null&&(t&&U.alternate!==null&&T.delete(U.key===null?j:U.key),f=i(U,f,j),x===null?E=U:x.sibling=U,x=U);return t&&T.forEach(function(Ce){return e(g,Ce)}),G&&Kt(g,j),E}function y(g,f,p,_){var E=en(p);if(typeof E!="function")throw Error(k(150));if(p=E.call(p),p==null)throw Error(k(151));for(var x=E=null,T=f,j=f=0,U=null,I=p.next();T!==null&&!I.done;j++,I=p.next()){T.index>j?(U=T,T=null):U=T.sibling;var Ce=d(g,T,I.value,_);if(Ce===null){T===null&&(T=U);break}t&&T&&Ce.alternate===null&&e(g,T),f=i(Ce,f,j),x===null?E=Ce:x.sibling=Ce,x=Ce,T=U}if(I.done)return r(g,T),G&&Kt(g,j),E;if(T===null){for(;!I.done;j++,I=p.next())I=h(g,I.value,_),I!==null&&(f=i(I,f,j),x===null?E=I:x.sibling=I,x=I);return G&&Kt(g,j),E}for(T=n(g,T);!I.done;j++,I=p.next())I=v(T,g,j,I.value,_),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?j:I.key),f=i(I,f,j),x===null?E=I:x.sibling=I,x=I);return t&&T.forEach(function(Ft){return e(g,Ft)}),G&&Kt(g,j),E}function S(g,f,p,_){if(typeof p=="object"&&p!==null&&p.type===Sr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Zn:e:{for(var E=p.key,x=f;x!==null;){if(x.key===E){if(E=p.type,E===Sr){if(x.tag===7){r(g,x.sibling),f=s(x,p.props.children),f.return=g,g=f;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===St&&lu(E)===x.type){r(g,x.sibling),f=s(x,p.props),f.ref=on(g,x,p),f.return=g,g=f;break e}r(g,x);break}else e(g,x);x=x.sibling}p.type===Sr?(f=nr(p.props.children,g.mode,_,p.key),f.return=g,g=f):(_=Ls(p.type,p.key,p.props,null,g.mode,_),_.ref=on(g,f,p),_.return=g,g=_)}return o(g);case _r:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=eo(p,g.mode,_),f.return=g,g=f}return o(g);case St:return x=p._init,S(g,f,x(p._payload),_)}if(cn(p))return m(g,f,p,_);if(en(p))return y(g,f,p,_);cs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,p),f.return=g,g=f):(r(g,f),f=Zi(p,g.mode,_),f.return=g,g=f),o(g)):r(g,f)}return S}var Fr=Sd(!0),kd=Sd(!1),Js=zt(null),Qs=null,Cr=null,Fa=null;function Va(){Fa=Cr=Qs=null}function Wa(t){var e=Js.current;K(Js),t._currentValue=e}function Mo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Dr(t,e){Qs=t,Fa=Cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Fa!==t)if(t={context:t,memoizedValue:e,next:null},Cr===null){if(Qs===null)throw Error(k(308));Cr=t,Qs.dependencies={lanes:0,firstContext:t}}else Cr=Cr.next=t;return e}var Zt=null;function Ha(t){Zt===null?Zt=[t]:Zt.push(t)}function Ed(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ha(e)):(r.next=s.next,s.next=r),e.interleaved=r,gt(t,n)}function gt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var kt=!1;function Ka(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,gt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ha(n)):(e.next=s.next,s.next=e),n.interleaved=e,gt(t,r)}function Cs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ra(t,r)}}function uu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ys(t,e,r,n){var s=t.updateQueue;kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,v=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(d=e,v=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(v,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(v,h,d):m,d==null)break e;h=X({},h,d);break e;case 2:kt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else v={eventTime:v,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ar|=o,t.lanes=o,t.memoizedState=h}}function cu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(k(191,s));s.call(n)}}}var Jn={},it=zt(Jn),Dn=zt(Jn),$n=zt(Jn);function er(t){if(t===Jn)throw Error(k(174));return t}function qa(t,e){switch(W($n,e),W(Dn,t),W(it,Jn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:So(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=So(e,t)}K(it),W(it,e)}function Vr(){K(it),K(Dn),K($n)}function bd(t){er($n.current);var e=er(it.current),r=So(e,t.type);e!==r&&(W(Dn,t),W(it,r))}function Ga(t){Dn.current===t&&(K(it),K(Dn))}var Q=zt(0);function Xs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qi=[];function Ja(){for(var t=0;t<qi.length;t++)qi[t]._workInProgressVersionPrimary=null;qi.length=0}var Ps=mt.ReactCurrentDispatcher,Gi=mt.ReactCurrentBatchConfig,or=0,Y=null,oe=null,le=null,Zs=!1,wn=!1,Un=0,Cg=0;function ge(){throw Error(k(321))}function Qa(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!et(t[r],e[r]))return!1;return!0}function Ya(t,e,r,n,s,i){if(or=i,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?Ng:Ig,t=r(n,s),wn){i=0;do{if(wn=!1,Un=0,25<=i)throw Error(k(301));i+=1,le=oe=null,e.updateQueue=null,Ps.current=Lg,t=r(n,s)}while(wn)}if(Ps.current=ei,e=oe!==null&&oe.next!==null,or=0,le=oe=Y=null,Zs=!1,e)throw Error(k(300));return t}function Xa(){var t=Un!==0;return Un=0,t}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Y.memoizedState=le=t:le=le.next=t,le}function We(){if(oe===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=le===null?Y.memoizedState:le.next;if(e!==null)le=e,oe=t;else{if(t===null)throw Error(k(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},le===null?Y.memoizedState=le=t:le=le.next=t}return le}function zn(t,e){return typeof e=="function"?e(t):e}function Ji(t){var e=We(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((or&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Y.lanes|=c,ar|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,et(n,e.memoizedState)||(be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Y.lanes|=i,ar|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Qi(t){var e=We(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Td(){}function Od(t,e){var r=Y,n=We(),s=e(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,be=!0),n=n.queue,Za(Pd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,Bn(9,Cd.bind(null,r,n,s,e),void 0,null),ue===null)throw Error(k(349));or&30||jd(r,e,s)}return s}function jd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Cd(t,e,r,n){e.value=r,e.getSnapshot=n,Rd(e)&&Ad(t)}function Pd(t,e,r){return r(function(){Rd(e)&&Ad(t)})}function Rd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!et(t,r)}catch{return!0}}function Ad(t){var e=gt(t,1);e!==null&&Ze(e,t,1,-1)}function du(t){var e=rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},e.queue=t,t=t.dispatch=Ag.bind(null,Y,t),[e.memoizedState,t]}function Bn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Nd(){return We().memoizedState}function Rs(t,e,r,n){var s=rt();Y.flags|=t,s.memoizedState=Bn(1|e,r,void 0,n===void 0?null:n)}function yi(t,e,r,n){var s=We();n=n===void 0?null:n;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,n!==null&&Qa(n,o.deps)){s.memoizedState=Bn(e,r,i,n);return}}Y.flags|=t,s.memoizedState=Bn(1|e,r,i,n)}function hu(t,e){return Rs(8390656,8,t,e)}function Za(t,e){return yi(2048,8,t,e)}function Id(t,e){return yi(4,2,t,e)}function Ld(t,e){return yi(4,4,t,e)}function Dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $d(t,e,r){return r=r!=null?r.concat([t]):null,yi(4,4,Dd.bind(null,e,t),r)}function el(){}function Ud(t,e){var r=We();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qa(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zd(t,e){var r=We();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qa(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Bd(t,e,r){return or&21?(et(r,e)||(r=Hc(),Y.lanes|=r,ar|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=r)}function Pg(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=Gi.transition;Gi.transition={};try{t(!1),e()}finally{M=r,Gi.transition=n}}function Md(){return We().memoizedState}function Rg(t,e,r){var n=It(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fd(t))Vd(e,r);else if(r=Ed(t,e,r,n),r!==null){var s=Se();Ze(r,t,n,s),Wd(r,e,n)}}function Ag(t,e,r){var n=It(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fd(t))Vd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var l=e.interleaved;l===null?(s.next=s,Ha(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ed(t,e,s,n),r!==null&&(s=Se(),Ze(r,t,n,s),Wd(r,e,n))}}function Fd(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Vd(t,e){wn=Zs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Wd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ra(t,r)}}var ei={readContext:Ve,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Ng={readContext:Ve,useCallback:function(t,e){return rt().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:hu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Rs(4194308,4,Dd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Rs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rs(4,2,t,e)},useMemo:function(t,e){var r=rt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Rg.bind(null,Y,t),[n.memoizedState,t]},useRef:function(t){var e=rt();return t={current:t},e.memoizedState=t},useState:du,useDebugValue:el,useDeferredValue:function(t){return rt().memoizedState=t},useTransition:function(){var t=du(!1),e=t[0];return t=Pg.bind(null,t[1]),rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Y,s=rt();if(G){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),ue===null)throw Error(k(349));or&30||jd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hu(Pd.bind(null,n,i,t),[t]),n.flags|=2048,Bn(9,Cd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=rt(),e=ue.identifierPrefix;if(G){var r=dt,n=ct;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Un++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Cg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ig={readContext:Ve,useCallback:Ud,useContext:Ve,useEffect:Za,useImperativeHandle:$d,useInsertionEffect:Id,useLayoutEffect:Ld,useMemo:zd,useReducer:Ji,useRef:Nd,useState:function(){return Ji(zn)},useDebugValue:el,useDeferredValue:function(t){var e=We();return Bd(e,oe.memoizedState,t)},useTransition:function(){var t=Ji(zn)[0],e=We().memoizedState;return[t,e]},useMutableSource:Td,useSyncExternalStore:Od,useId:Md,unstable_isNewReconciler:!1},Lg={readContext:Ve,useCallback:Ud,useContext:Ve,useEffect:Za,useImperativeHandle:$d,useInsertionEffect:Id,useLayoutEffect:Ld,useMemo:zd,useReducer:Qi,useRef:Nd,useState:function(){return Qi(zn)},useDebugValue:el,useDeferredValue:function(t){var e=We();return oe===null?e.memoizedState=t:Bd(e,oe.memoizedState,t)},useTransition:function(){var t=Qi(zn)[0],e=We().memoizedState;return[t,e]},useMutableSource:Td,useSyncExternalStore:Od,useId:Md,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Fo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:X({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wi={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Se(),s=It(t),i=ht(n,s);i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ze(e,t,s,n),Cs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Se(),s=It(t),i=ht(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ze(e,t,s,n),Cs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Se(),n=It(t),s=ht(r,n);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,n),e!==null&&(Ze(e,t,n,r),Cs(e,t,n))}};function fu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!An(r,n)||!An(s,i):!0}function Hd(t,e,r){var n=!1,s=$t,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Oe(e)?sr:ye.current,n=e.contextTypes,i=(n=n!=null)?Br(t,s):$t),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wi.enqueueReplaceState(e,e.state,null)}function Vo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ka(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Oe(e)?sr:ye.current,s.context=Br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wi.enqueueReplaceState(s,s.state,null),Ys(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wr(t,e){try{var r="",n=e;do r+=up(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Yi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Wo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function Kd(t,e,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ri||(ri=!0,ea=n),Wo(t,e)},r}function qd(t,e,r){r=ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Wo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wo(t,e),typeof n!="function"&&(Nt===null?Nt=new Set([this]):Nt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function gu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Dg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Qg.bind(null,t,e,r),e.then(t,t))}function vu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ht(-1,1),e.tag=2,At(r,e,1))),r.lanes|=1),t)}var $g=mt.ReactCurrentOwner,be=!1;function we(t,e,r,n){e.child=t===null?kd(e,null,r,n):Fr(e,t.child,r,n)}function yu(t,e,r,n,s){r=r.render;var i=e.ref;return Dr(e,s),n=Ya(t,e,r,n,i,s),r=Xa(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vt(t,e,s)):(G&&r&&za(e),e.flags|=1,we(t,e,n,s),e.child)}function wu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ll(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Gd(t,e,i,n,s)):(t=Ls(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:An,r(o,n)&&t.ref===e.ref)return vt(t,e,s)}return e.flags|=1,t=Lt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Gd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(An(i,n)&&t.ref===e.ref)if(be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,vt(t,e,s)}return Ho(t,e,r,n,s)}function Jd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Rr,Pe),Pe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(Rr,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Rr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,W(Rr,Pe),Pe|=n;return we(t,e,s,r),e.child}function Qd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ho(t,e,r,n,s){var i=Oe(r)?sr:ye.current;return i=Br(e,i),Dr(e,s),r=Ya(t,e,r,n,i,s),n=Xa(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vt(t,e,s)):(G&&n&&za(e),e.flags|=1,we(t,e,r,s),e.child)}function _u(t,e,r,n,s){if(Oe(r)){var i=!0;Ks(e)}else i=!1;if(Dr(e,s),e.stateNode===null)As(t,e),Hd(e,r,n),Vo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Oe(r)?sr:ye.current,u=Br(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&pu(e,o,n,u),kt=!1;var d=e.memoizedState;o.state=d,Ys(e,n,o,s),l=e.memoizedState,a!==n||d!==l||Te.current||kt?(typeof c=="function"&&(Fo(e,r,c,n),l=e.memoizedState),(a=kt||fu(e,r,a,n,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,xd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ge(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ve(l):(l=Oe(r)?sr:ye.current,l=Br(e,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&pu(e,o,n,l),kt=!1,d=e.memoizedState,o.state=d,Ys(e,n,o,s);var m=e.memoizedState;a!==h||d!==m||Te.current||kt?(typeof v=="function"&&(Fo(e,r,v,n),m=e.memoizedState),(u=kt||fu(e,r,u,n,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ko(t,e,r,n,i,s)}function Ko(t,e,r,n,s,i){Qd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&iu(e,r,!1),vt(t,e,i);n=e.stateNode,$g.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Fr(e,t.child,null,i),e.child=Fr(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&iu(e,r,!0),e.child}function Yd(t){var e=t.stateNode;e.pendingContext?su(t,e.pendingContext,e.pendingContext!==e.context):e.context&&su(t,e.context,!1),qa(t,e.containerInfo)}function Su(t,e,r,n,s){return Mr(),Ma(s),e.flags|=256,we(t,e,r,n),e.child}var qo={dehydrated:null,treeContext:null,retryLane:0};function Go(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xd(t,e,r){var n=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),W(Q,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ki(o,n,0,null),t=nr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Go(r),e.memoizedState=qo,t):tl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ug(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Lt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Lt(a,i):(i=nr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Go(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=qo,n}return i=t.child,t=i.sibling,n=Lt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function tl(t,e){return e=ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ds(t,e,r,n){return n!==null&&Ma(n),Fr(e,t.child,null,r),t=tl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ug(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Yi(Error(k(422))),ds(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ki({mode:"visible",children:n.children},s,0,null),i=nr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Fr(e,t.child,null,o),e.child.memoizedState=Go(o),e.memoizedState=qo,i);if(!(e.mode&1))return ds(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(k(419)),n=Yi(i,n,void 0),ds(t,e,o,n)}if(a=(o&t.childLanes)!==0,be||a){if(n=ue,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gt(t,s),Ze(n,t,s,-1))}return al(),n=Yi(Error(k(421))),ds(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ne=Rt(s.nextSibling),Ie=e,G=!0,Ye=null,t!==null&&(ze[Be++]=ct,ze[Be++]=dt,ze[Be++]=ir,ct=t.id,dt=t.overflow,ir=e),e=tl(e,n.children),e.flags|=4096,e)}function ku(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Mo(t.return,e,r)}function Xi(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Zd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=Q.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ku(t,r,e);else if(t.tag===19)ku(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(W(Q,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Xs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Xi(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Xi(e,!0,r,null,i);break;case"together":Xi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ar|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=Lt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function zg(t,e,r){switch(e.tag){case 3:Yd(e),Mr();break;case 5:bd(e);break;case 1:Oe(e.type)&&Ks(e);break;case 4:qa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;W(Js,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(W(Q,Q.current&1),e.flags|=128,null):r&e.child.childLanes?Xd(t,e,r):(W(Q,Q.current&1),t=vt(t,e,r),t!==null?t.sibling:null);W(Q,Q.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Zd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(Q,Q.current),n)break;return null;case 22:case 23:return e.lanes=0,Jd(t,e,r)}return vt(t,e,r)}var eh,Jo,th,rh;eh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jo=function(){};th=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,er(it.current);var i=null;switch(r){case"input":s=mo(t,s),n=mo(t,n),i=[];break;case"select":s=X({},s,{value:void 0}),n=X({},n,{value:void 0}),i=[];break;case"textarea":s=_o(t,s),n=_o(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ws)}ko(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rh=function(t,e,r,n){r!==n&&(e.flags|=4)};function an(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Bg(t,e,r){var n=e.pendingProps;switch(Ba(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Oe(e.type)&&Hs(),ve(e),null;case 3:return n=e.stateNode,Vr(),K(Te),K(ye),Ja(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(us(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(na(Ye),Ye=null))),Jo(t,e),ve(e),null;case 5:Ga(e);var s=er($n.current);if(r=e.type,t!==null&&e.stateNode!=null)th(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return ve(e),null}if(t=er(it.current),us(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nt]=e,n[Ln]=i,t=(e.mode&1)!==0,r){case"dialog":H("cancel",n),H("close",n);break;case"iframe":case"object":case"embed":H("load",n);break;case"video":case"audio":for(s=0;s<hn.length;s++)H(hn[s],n);break;case"source":H("error",n);break;case"img":case"image":case"link":H("error",n),H("load",n);break;case"details":H("toggle",n);break;case"input":Rl(n,i),H("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},H("invalid",n);break;case"textarea":Nl(n,i),H("invalid",n)}ko(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ls(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ls(n.textContent,a,t),s=["children",""+a]):bn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",n)}switch(r){case"input":es(n),Al(n,i,!0);break;case"textarea":es(n),Il(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ws)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[nt]=e,t[Ln]=n,eh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eo(r,n),r){case"dialog":H("cancel",t),H("close",t),s=n;break;case"iframe":case"object":case"embed":H("load",t),s=n;break;case"video":case"audio":for(s=0;s<hn.length;s++)H(hn[s],t);s=n;break;case"source":H("error",t),s=n;break;case"img":case"image":case"link":H("error",t),H("load",t),s=n;break;case"details":H("toggle",t),s=n;break;case"input":Rl(t,n),s=mo(t,n),H("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=X({},n,{value:void 0}),H("invalid",t);break;case"textarea":Nl(t,n),s=_o(t,n),H("invalid",t);break;default:s=n}ko(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Nc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Tn(t,l):typeof l=="number"&&Tn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",t):l!=null&&ba(t,i,l,o))}switch(r){case"input":es(t),Al(t,n,!1);break;case"textarea":es(t),Il(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ar(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ar(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ws)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)rh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=er($n.current),er(it.current),us(e)){if(n=e.stateNode,r=e.memoizedProps,n[nt]=e,(i=n.nodeValue!==r)&&(t=Ie,t!==null))switch(t.tag){case 3:ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ls(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=e,e.stateNode=n}return ve(e),null;case 13:if(K(Q),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Ne!==null&&e.mode&1&&!(e.flags&128))_d(),Mr(),e.flags|=98560,i=!1;else if(i=us(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[nt]=e}else Mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Ye!==null&&(na(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?ae===0&&(ae=3):al())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Vr(),Jo(t,e),t===null&&Nn(e.stateNode.containerInfo),ve(e),null;case 10:return Wa(e.type._context),ve(e),null;case 17:return Oe(e.type)&&Hs(),ve(e),null;case 19:if(K(Q),i=e.memoizedState,i===null)return ve(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)an(i,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xs(t),o!==null){for(e.flags|=128,an(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return W(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>Hr&&(e.flags|=128,n=!0,an(i,!1),e.lanes=4194304)}else{if(!n)if(t=Xs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),an(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return ve(e),null}else 2*ee()-i.renderingStartTime>Hr&&r!==1073741824&&(e.flags|=128,n=!0,an(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,r=Q.current,W(Q,n?r&1|2:r&1),e):(ve(e),null);case 22:case 23:return ol(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pe&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Mg(t,e){switch(Ba(e),e.tag){case 1:return Oe(e.type)&&Hs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vr(),K(Te),K(ye),Ja(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ga(e),null;case 13:if(K(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Q),null;case 4:return Vr(),null;case 10:return Wa(e.type._context),null;case 22:case 23:return ol(),null;case 24:return null;default:return null}}var hs=!1,me=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,O=null;function Pr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(t,e,n)}else r.current=null}function Qo(t,e,r){try{r()}catch(n){Z(t,e,n)}}var Eu=!1;function Vg(t,e){if(No=Ms,t=ad(),Ua(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)d=h,h=v;for(;;){if(h===t)break t;if(d===r&&++u===s&&(a=o),d===i&&++c===n&&(l=o),(v=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Io={focusedElem:t,selectionRange:r},Ms=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,S=m.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ge(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){Z(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return m=Eu,Eu=!1,m}function _n(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qo(e,r,i)}s=s.next}while(s!==n)}}function _i(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Yo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nh(t){var e=t.alternate;e!==null&&(t.alternate=null,nh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Ln],delete e[$o],delete e[bg],delete e[Tg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sh(t){return t.tag===5||t.tag===3||t.tag===4}function xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ws));else if(n!==4&&(t=t.child,t!==null))for(Xo(t,e,r),t=t.sibling;t!==null;)Xo(t,e,r),t=t.sibling}function Zo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zo(t,e,r),t=t.sibling;t!==null;)Zo(t,e,r),t=t.sibling}var de=null,Qe=!1;function wt(t,e,r){for(r=r.child;r!==null;)ih(t,e,r),r=r.sibling}function ih(t,e,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(hi,r)}catch{}switch(r.tag){case 5:me||Pr(r,e);case 6:var n=de,s=Qe;de=null,wt(t,e,r),de=n,Qe=s,de!==null&&(Qe?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Qe?(t=de,r=r.stateNode,t.nodeType===8?Hi(t.parentNode,r):t.nodeType===1&&Hi(t,r),Pn(t)):Hi(de,r.stateNode));break;case 4:n=de,s=Qe,de=r.stateNode.containerInfo,Qe=!0,wt(t,e,r),de=n,Qe=s;break;case 0:case 11:case 14:case 15:if(!me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qo(r,e,o),s=s.next}while(s!==n)}wt(t,e,r);break;case 1:if(!me&&(Pr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Z(r,e,a)}wt(t,e,r);break;case 21:wt(t,e,r);break;case 22:r.mode&1?(me=(n=me)||r.memoizedState!==null,wt(t,e,r),me=n):wt(t,e,r);break;default:wt(t,e,r)}}function bu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Fg),e.forEach(function(n){var s=Xg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function He(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Qe=!1;break e;case 3:de=a.stateNode.containerInfo,Qe=!0;break e;case 4:de=a.stateNode.containerInfo,Qe=!0;break e}a=a.return}if(de===null)throw Error(k(160));ih(i,o,s),de=null,Qe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Z(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oh(e,t),e=e.sibling}function oh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),tt(t),n&4){try{_n(3,t,t.return),_i(3,t)}catch(y){Z(t,t.return,y)}try{_n(5,t,t.return)}catch(y){Z(t,t.return,y)}}break;case 1:He(e,t),tt(t),n&512&&r!==null&&Pr(r,r.return);break;case 5:if(He(e,t),tt(t),n&512&&r!==null&&Pr(r,r.return),t.flags&32){var s=t.stateNode;try{Tn(s,"")}catch(y){Z(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jc(s,i),Eo(a,o);var u=Eo(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Nc(s,h):c==="dangerouslySetInnerHTML"?Rc(s,h):c==="children"?Tn(s,h):ba(s,c,h,u)}switch(a){case"input":yo(s,i);break;case"textarea":Cc(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ar(s,!!i.multiple,v,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ar(s,!!i.multiple,i.defaultValue,!0):Ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ln]=i}catch(y){Z(t,t.return,y)}}break;case 6:if(He(e,t),tt(t),n&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Z(t,t.return,y)}}break;case 3:if(He(e,t),tt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(e.containerInfo)}catch(y){Z(t,t.return,y)}break;case 4:He(e,t),tt(t);break;case 13:He(e,t),tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sl=ee())),n&4&&bu(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(me=(u=me)||c,He(e,t),me=u):He(e,t),tt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(d=O,v=d.child,d.tag){case 0:case 11:case 14:case 15:_n(4,d,d.return);break;case 1:Pr(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Z(n,r,y)}}break;case 5:Pr(d,d.return);break;case 22:if(d.memoizedState!==null){Ou(h);continue}}v!==null?(v.return=d,O=v):Ou(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ac("display",o))}catch(y){Z(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Z(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:He(e,t),tt(t),n&4&&bu(t);break;case 21:break;default:He(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sh(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Tn(s,""),n.flags&=-33);var i=xu(t);Zo(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=xu(t);Xo(t,a,o);break;default:throw Error(k(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wg(t,e,r){O=t,ah(t)}function ah(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||hs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||me;a=hs;var u=me;if(hs=o,(me=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?ju(s):l!==null?(l.return=o,O=l):ju(s);for(;i!==null;)O=i,ah(i),i=i.sibling;O=s,hs=a,me=u}Tu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Tu(t)}}function Tu(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||_i(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!me)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ge(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Pn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}me||e.flags&512&&Yo(e)}catch(d){Z(e,e.return,d)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function Ou(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function ju(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{_i(4,e)}catch(l){Z(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Z(e,s,l)}}var i=e.return;try{Yo(e)}catch(l){Z(e,i,l)}break;case 5:var o=e.return;try{Yo(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var Hg=Math.ceil,ti=mt.ReactCurrentDispatcher,rl=mt.ReactCurrentOwner,Fe=mt.ReactCurrentBatchConfig,z=0,ue=null,se=null,fe=0,Pe=0,Rr=zt(0),ae=0,Mn=null,ar=0,Si=0,nl=0,Sn=null,xe=null,sl=0,Hr=1/0,at=null,ri=!1,ea=null,Nt=null,fs=!1,Ot=null,ni=0,kn=0,ta=null,Ns=-1,Is=0;function Se(){return z&6?ee():Ns!==-1?Ns:Ns=ee()}function It(t){return t.mode&1?z&2&&fe!==0?fe&-fe:jg.transition!==null?(Is===0&&(Is=Hc()),Is):(t=M,t!==0||(t=window.event,t=t===void 0?16:Xc(t.type)),t):1}function Ze(t,e,r,n){if(50<kn)throw kn=0,ta=null,Error(k(185));Kn(t,r,n),(!(z&2)||t!==ue)&&(t===ue&&(!(z&2)&&(Si|=r),ae===4&&xt(t,fe)),je(t,n),r===1&&z===0&&!(e.mode&1)&&(Hr=ee()+500,mi&&Bt()))}function je(t,e){var r=t.callbackNode;jp(t,e);var n=Bs(t,t===ue?fe:0);if(n===0)r!==null&&$l(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$l(r),e===1)t.tag===0?Og(Cu.bind(null,t)):md(Cu.bind(null,t)),Eg(function(){!(z&6)&&Bt()}),r=null;else{switch(Kc(n)){case 1:r=Pa;break;case 4:r=Vc;break;case 16:r=zs;break;case 536870912:r=Wc;break;default:r=zs}r=gh(r,lh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lh(t,e){if(Ns=-1,Is=0,z&6)throw Error(k(327));var r=t.callbackNode;if($r()&&t.callbackNode!==r)return null;var n=Bs(t,t===ue?fe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=si(t,n);else{e=n;var s=z;z|=2;var i=ch();(ue!==t||fe!==e)&&(at=null,Hr=ee()+500,rr(t,e));do try{Gg();break}catch(a){uh(t,a)}while(!0);Va(),ti.current=i,z=s,se!==null?e=0:(ue=null,fe=0,e=ae)}if(e!==0){if(e===2&&(s=jo(t),s!==0&&(n=s,e=ra(t,s))),e===1)throw r=Mn,rr(t,0),xt(t,n),je(t,ee()),r;if(e===6)xt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Kg(s)&&(e=si(t,n),e===2&&(i=jo(t),i!==0&&(n=i,e=ra(t,i))),e===1))throw r=Mn,rr(t,0),xt(t,n),je(t,ee()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:qt(t,xe,at);break;case 3:if(xt(t,n),(n&130023424)===n&&(e=sl+500-ee(),10<e)){if(Bs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Do(qt.bind(null,t,xe,at),e);break}qt(t,xe,at);break;case 4:if(xt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hg(n/1960))-n,10<n){t.timeoutHandle=Do(qt.bind(null,t,xe,at),n);break}qt(t,xe,at);break;case 5:qt(t,xe,at);break;default:throw Error(k(329))}}}return je(t,ee()),t.callbackNode===r?lh.bind(null,t):null}function ra(t,e){var r=Sn;return t.current.memoizedState.isDehydrated&&(rr(t,e).flags|=256),t=si(t,e),t!==2&&(e=xe,xe=r,e!==null&&na(e)),t}function na(t){xe===null?xe=t:xe.push.apply(xe,t)}function Kg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~nl,e&=~Si,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xe(e),n=1<<r;t[r]=-1,e&=~n}}function Cu(t){if(z&6)throw Error(k(327));$r();var e=Bs(t,0);if(!(e&1))return je(t,ee()),null;var r=si(t,e);if(t.tag!==0&&r===2){var n=jo(t);n!==0&&(e=n,r=ra(t,n))}if(r===1)throw r=Mn,rr(t,0),xt(t,e),je(t,ee()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,xe,at),je(t,ee()),null}function il(t,e){var r=z;z|=1;try{return t(e)}finally{z=r,z===0&&(Hr=ee()+500,mi&&Bt())}}function lr(t){Ot!==null&&Ot.tag===0&&!(z&6)&&$r();var e=z;z|=1;var r=Fe.transition,n=M;try{if(Fe.transition=null,M=1,t)return t()}finally{M=n,Fe.transition=r,z=e,!(z&6)&&Bt()}}function ol(){Pe=Rr.current,K(Rr)}function rr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,kg(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(Ba(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hs();break;case 3:Vr(),K(Te),K(ye),Ja();break;case 5:Ga(n);break;case 4:Vr();break;case 13:K(Q);break;case 19:K(Q);break;case 10:Wa(n.type._context);break;case 22:case 23:ol()}r=r.return}if(ue=t,se=t=Lt(t.current,null),fe=Pe=e,ae=0,Mn=null,nl=Si=ar=0,xe=Sn=null,Zt!==null){for(e=0;e<Zt.length;e++)if(r=Zt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Zt=null}return t}function uh(t,e){do{var r=se;try{if(Va(),Ps.current=ei,Zs){for(var n=Y.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zs=!1}if(or=0,le=oe=Y=null,wn=!1,Un=0,rl.current=null,r===null||r.return===null){ae=1,Mn=e,se=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=vu(o);if(v!==null){v.flags&=-257,mu(v,o,a,i,e),v.mode&1&&gu(i,u,e),e=v,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){gu(i,u,e),al();break e}l=Error(k(426))}}else if(G&&a.mode&1){var S=vu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),mu(S,o,a,i,e),Ma(Wr(l,a));break e}}i=l=Wr(l,a),ae!==4&&(ae=2),Sn===null?Sn=[i]:Sn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Kd(i,l,e);uu(i,g);break e;case 1:a=l;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Nt===null||!Nt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=qd(i,a,e);uu(i,_);break e}}i=i.return}while(i!==null)}hh(r)}catch(E){e=E,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function ch(){var t=ti.current;return ti.current=ei,t===null?ei:t}function al(){(ae===0||ae===3||ae===2)&&(ae=4),ue===null||!(ar&268435455)&&!(Si&268435455)||xt(ue,fe)}function si(t,e){var r=z;z|=2;var n=ch();(ue!==t||fe!==e)&&(at=null,rr(t,e));do try{qg();break}catch(s){uh(t,s)}while(!0);if(Va(),z=r,ti.current=n,se!==null)throw Error(k(261));return ue=null,fe=0,ae}function qg(){for(;se!==null;)dh(se)}function Gg(){for(;se!==null&&!wp();)dh(se)}function dh(t){var e=ph(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?hh(t):se=e,rl.current=null}function hh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Mg(r,e),r!==null){r.flags&=32767,se=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,se=null;return}}else if(r=Bg(r,e,Pe),r!==null){se=r;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);ae===0&&(ae=5)}function qt(t,e,r){var n=M,s=Fe.transition;try{Fe.transition=null,M=1,Jg(t,e,r,n)}finally{Fe.transition=s,M=n}return null}function Jg(t,e,r,n){do $r();while(Ot!==null);if(z&6)throw Error(k(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Cp(t,i),t===ue&&(se=ue=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fs||(fs=!0,gh(zs,function(){return $r(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=M;M=1;var a=z;z|=4,rl.current=null,Vg(t,r),oh(r,t),gg(Io),Ms=!!No,Io=No=null,t.current=r,Wg(r),_p(),z=a,M=o,Fe.transition=i}else t.current=r;if(fs&&(fs=!1,Ot=t,ni=s),i=t.pendingLanes,i===0&&(Nt=null),Ep(r.stateNode),je(t,ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ri)throw ri=!1,t=ea,ea=null,t;return ni&1&&t.tag!==0&&$r(),i=t.pendingLanes,i&1?t===ta?kn++:(kn=0,ta=t):kn=0,Bt(),null}function $r(){if(Ot!==null){var t=Kc(ni),e=Fe.transition,r=M;try{if(Fe.transition=null,M=16>t?16:t,Ot===null)var n=!1;else{if(t=Ot,Ot=null,ni=0,z&6)throw Error(k(331));var s=z;for(z|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:_n(8,c,i)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var d=c.sibling,v=c.return;if(nh(c),c===u){O=null;break}if(d!==null){d.return=v,O=d;break}O=v}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_n(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var f=t.current;for(O=f;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=f;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_i(9,a)}}catch(E){Z(a,a.return,E)}if(a===o){O=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,O=_;break e}O=a.return}}if(z=s,Bt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(hi,t)}catch{}n=!0}return n}finally{M=r,Fe.transition=e}}return!1}function Pu(t,e,r){e=Wr(r,e),e=Kd(t,e,1),t=At(t,e,1),e=Se(),t!==null&&(Kn(t,1,e),je(t,e))}function Z(t,e,r){if(t.tag===3)Pu(t,t,r);else for(;e!==null;){if(e.tag===3){Pu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nt===null||!Nt.has(n))){t=Wr(r,t),t=qd(e,t,1),e=At(e,t,1),t=Se(),e!==null&&(Kn(e,1,t),je(e,t));break}}e=e.return}}function Qg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&r,ue===t&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>ee()-sl?rr(t,0):nl|=r),je(t,e)}function fh(t,e){e===0&&(t.mode&1?(e=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):e=1);var r=Se();t=gt(t,e),t!==null&&(Kn(t,e,r),je(t,r))}function Yg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fh(t,r)}function Xg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),fh(t,r)}var ph;ph=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return be=!1,zg(t,e,r);be=!!(t.flags&131072)}else be=!1,G&&e.flags&1048576&&yd(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;As(t,e),t=e.pendingProps;var s=Br(e,ye.current);Dr(e,r),s=Ya(null,e,n,t,s,r);var i=Xa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(n)?(i=!0,Ks(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ka(e),s.updater=wi,e.stateNode=s,s._reactInternals=e,Vo(e,n,t,r),e=Ko(null,e,n,!0,i,r)):(e.tag=0,G&&i&&za(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ev(n),t=Ge(n,t),s){case 0:e=Ho(null,e,n,t,r);break e;case 1:e=_u(null,e,n,t,r);break e;case 11:e=yu(null,e,n,t,r);break e;case 14:e=wu(null,e,n,Ge(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),Ho(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),_u(t,e,n,s,r);case 3:e:{if(Yd(e),t===null)throw Error(k(387));n=e.pendingProps,i=e.memoizedState,s=i.element,xd(t,e),Ys(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wr(Error(k(423)),e),e=Su(t,e,n,r,s);break e}else if(n!==s){s=Wr(Error(k(424)),e),e=Su(t,e,n,r,s);break e}else for(Ne=Rt(e.stateNode.containerInfo.firstChild),Ie=e,G=!0,Ye=null,r=kd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mr(),n===s){e=vt(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return bd(e),t===null&&Bo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lo(n,s)?o=null:i!==null&&Lo(n,i)&&(e.flags|=32),Qd(t,e),we(t,e,o,r),e.child;case 6:return t===null&&Bo(e),null;case 13:return Xd(t,e,r);case 4:return qa(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Fr(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),yu(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,W(Js,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Te.current){e=vt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ht(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Mo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Mo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Dr(e,r),s=Ve(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=Ge(n,e.pendingProps),s=Ge(n.type,s),wu(t,e,n,s,r);case 15:return Gd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),As(t,e),e.tag=1,Oe(n)?(t=!0,Ks(e)):t=!1,Dr(e,r),Hd(e,n,s),Vo(e,n,s,r),Ko(null,e,n,!0,t,r);case 19:return Zd(t,e,r);case 22:return Jd(t,e,r)}throw Error(k(156,e.tag))};function gh(t,e){return Fc(t,e)}function Zg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,r,n){return new Zg(t,e,r,n)}function ll(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ev(t){if(typeof t=="function")return ll(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oa)return 11;if(t===ja)return 14}return 2}function Lt(t,e){var r=t.alternate;return r===null?(r=Me(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ls(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ll(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sr:return nr(r.children,s,i,e);case Ta:o=8,s|=8;break;case fo:return t=Me(12,r,e,s|2),t.elementType=fo,t.lanes=i,t;case po:return t=Me(13,r,e,s),t.elementType=po,t.lanes=i,t;case go:return t=Me(19,r,e,s),t.elementType=go,t.lanes=i,t;case bc:return ki(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ec:o=10;break e;case xc:o=9;break e;case Oa:o=11;break e;case ja:o=14;break e;case St:o=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Me(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function nr(t,e,r,n){return t=Me(7,t,n,e),t.lanes=r,t}function ki(t,e,r,n){return t=Me(22,t,n,e),t.elementType=bc,t.lanes=r,t.stateNode={isHidden:!1},t}function Zi(t,e,r){return t=Me(6,t,null,e),t.lanes=r,t}function eo(t,e,r){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ul(t,e,r,n,s,i,o,a,l){return t=new tv(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Me(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ka(i),t}function rv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vh(t){if(!t)return $t;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if(Oe(r))return vd(t,r,e)}return e}function mh(t,e,r,n,s,i,o,a,l){return t=ul(r,n,!0,t,s,i,o,a,l),t.context=vh(null),r=t.current,n=Se(),s=It(r),i=ht(n,s),i.callback=e??null,At(r,i,s),t.current.lanes=s,Kn(t,s,n),je(t,n),t}function Ei(t,e,r,n){var s=e.current,i=Se(),o=It(s);return r=vh(r),e.context===null?e.context=r:e.pendingContext=r,e=ht(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=At(s,e,o),t!==null&&(Ze(t,s,o,i),Cs(t,s,o)),o}function ii(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ru(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cl(t,e){Ru(t,e),(t=t.alternate)&&Ru(t,e)}function nv(){return null}var yh=typeof reportError=="function"?reportError:function(t){console.error(t)};function dl(t){this._internalRoot=t}xi.prototype.render=dl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Ei(t,e,null,null)};xi.prototype.unmount=dl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lr(function(){Ei(null,t,null,null)}),e[pt]=null}};function xi(t){this._internalRoot=t}xi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Et.length&&e!==0&&e<Et[r].priority;r++);Et.splice(r,0,t),r===0&&Yc(t)}};function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Au(){}function sv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ii(o);i.call(u)}}var o=mh(e,n,t,0,null,!1,!1,"",Au);return t._reactRootContainer=o,t[pt]=o.current,Nn(t.nodeType===8?t.parentNode:t),lr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ii(l);a.call(u)}}var l=ul(t,0,!1,null,null,!1,!1,"",Au);return t._reactRootContainer=l,t[pt]=l.current,Nn(t.nodeType===8?t.parentNode:t),lr(function(){Ei(e,l,r,n)}),l}function Ti(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ii(o);a.call(l)}}Ei(e,o,t,s)}else o=sv(r,e,t,s,n);return ii(o)}qc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=dn(e.pendingLanes);r!==0&&(Ra(e,r|1),je(e,ee()),!(z&6)&&(Hr=ee()+500,Bt()))}break;case 13:lr(function(){var n=gt(t,1);if(n!==null){var s=Se();Ze(n,t,1,s)}}),cl(t,1)}};Aa=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var r=Se();Ze(e,t,134217728,r)}cl(t,134217728)}};Gc=function(t){if(t.tag===13){var e=It(t),r=gt(t,e);if(r!==null){var n=Se();Ze(r,t,e,n)}cl(t,e)}};Jc=function(){return M};Qc=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};bo=function(t,e,r){switch(e){case"input":if(yo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=vi(n);if(!s)throw Error(k(90));Oc(n),yo(n,s)}}}break;case"textarea":Cc(t,r);break;case"select":e=r.value,e!=null&&Ar(t,!!r.multiple,e,!1)}};Dc=il;$c=lr;var iv={usingClientEntryPoint:!1,Events:[Gn,br,vi,Ic,Lc,il]},ln={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ov={bundleType:ln.bundleType,version:ln.version,rendererPackageName:ln.rendererPackageName,rendererConfig:ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bc(t),t===null?null:t.stateNode},findFiberByHostInstance:ln.findFiberByHostInstance||nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{hi=ps.inject(ov),st=ps}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv;De.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(e))throw Error(k(200));return rv(t,e,null,r)};De.createRoot=function(t,e){if(!hl(t))throw Error(k(299));var r=!1,n="",s=yh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ul(t,1,!1,null,null,r,!1,n,s),t[pt]=e.current,Nn(t.nodeType===8?t.parentNode:t),new dl(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Bc(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return lr(t)};De.hydrate=function(t,e,r){if(!bi(e))throw Error(k(200));return Ti(null,t,e,!0,r)};De.hydrateRoot=function(t,e,r){if(!hl(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=yh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=mh(e,null,t,1,r??null,s,!1,i,o),t[pt]=e.current,Nn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new xi(e)};De.render=function(t,e,r){if(!bi(e))throw Error(k(200));return Ti(null,t,e,!1,r)};De.unmountComponentAtNode=function(t){if(!bi(t))throw Error(k(40));return t._reactRootContainer?(lr(function(){Ti(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};De.unstable_batchedUpdates=il;De.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!bi(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Ti(t,e,r,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wh)}catch(t){console.error(t)}}wh(),wc.exports=De;var av=wc.exports,Nu=av;co.createRoot=Nu.createRoot,co.hydrateRoot=Nu.hydrateRoot;var sa=function(t,e){return sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},sa(t,e)};function _h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oi=function(){return oi=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oi.apply(this,arguments)};function Qr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Sh(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function kh(t,e){return function(r,n){e(r,n,t)}}function Eh(t,e,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,d=!1,v=r.length-1;v>=0;v--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var S=(0,r[v])(a==="accessor"?{get:c.get,set:c.set}:c[l],m);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=o(S.get))&&(c.get=h),(h=o(S.set))&&(c.set=h),(h=o(S.init))&&s.unshift(h)}else(h=o(S))&&(a==="field"?s.unshift(h):c[l]=h)}u&&Object.defineProperty(u,n.name,c),d=!0}function xh(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function bh(t){return typeof t=="symbol"?t:"".concat(t)}function Th(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Oh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function C(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function jh(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Oi=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Ch(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oi(e,t,r)}function ai(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fl(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ph(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fl(arguments[e]));return t}function Rh(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Ah(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Kr(t){return this instanceof Kr?(this.v=t,this):new Kr(t)}function Nh(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(m){return Promise.resolve(m).then(v,h)}}function a(v,m){n[v]&&(s[v]=function(y){return new Promise(function(S,g){i.push([v,y,S,g])>1||l(v,y)})},m&&(s[v]=m(s[v])))}function l(v,m){try{u(n[v](m))}catch(y){d(i[0][3],y)}}function u(v){v.value instanceof Kr?Promise.resolve(v.value.v).then(c,h):d(i[0][2],v)}function c(v){l("next",v)}function h(v){l("throw",v)}function d(v,m){v(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ih(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Kr(t[s](o)),done:!1}:i?i(o):o}:i}}function Lh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ai=="function"?ai(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Dh(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var lv=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},ia=function(t){return ia=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},ia(t)};function $h(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ia(t),n=0;n<r.length;n++)r[n]!=="default"&&Oi(e,t,r[n]);return lv(e,t),e}function Uh(t){return t&&t.__esModule?t:{default:t}}function zh(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Bh(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Mh(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Fh(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var uv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Vh(t){function e(i){t.error=t.hasError?new uv(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Wh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const cv={__extends:_h,__assign:oi,__rest:Qr,__decorate:Sh,__param:kh,__esDecorate:Eh,__runInitializers:xh,__propKey:bh,__setFunctionName:Th,__metadata:Oh,__awaiter:C,__generator:jh,__createBinding:Oi,__exportStar:Ch,__values:ai,__read:fl,__spread:Ph,__spreadArrays:Rh,__spreadArray:Ah,__await:Kr,__asyncGenerator:Nh,__asyncDelegator:Ih,__asyncValues:Lh,__makeTemplateObject:Dh,__importStar:$h,__importDefault:Uh,__classPrivateFieldGet:zh,__classPrivateFieldSet:Bh,__classPrivateFieldIn:Mh,__addDisposableResource:Fh,__disposeResources:Vh,__rewriteRelativeImportExtension:Wh},dv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Fh,get __assign(){return oi},__asyncDelegator:Ih,__asyncGenerator:Nh,__asyncValues:Lh,__await:Kr,__awaiter:C,__classPrivateFieldGet:zh,__classPrivateFieldIn:Mh,__classPrivateFieldSet:Bh,__createBinding:Oi,__decorate:Sh,__disposeResources:Vh,__esDecorate:Eh,__exportStar:Ch,__extends:_h,__generator:jh,__importDefault:Uh,__importStar:$h,__makeTemplateObject:Dh,__metadata:Oh,__param:kh,__propKey:bh,__read:fl,__rest:Qr,__rewriteRelativeImportExtension:Wh,__runInitializers:xh,__setFunctionName:Th,__spread:Ph,__spreadArray:Ah,__spreadArrays:Rh,__values:ai,default:cv},Symbol.toStringTag,{value:"Module"})),hv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class pl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class fv extends pl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Iu extends pl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lu extends pl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oa||(oa={}));class pv{constructor(e,{headers:r={},customFetch:n,region:s=oa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=hv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return C(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=n;let d={},{region:v}=n;v||(v=this.region);const m=new URL(`${this.url}/${r}`);v&&v!=="any"&&(d["x-region"]=v,m.searchParams.set("forceFunctionRegion",v));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(d["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(d["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let S=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(S=o.signal,c.addEventListener("abort",()=>o.abort())):S=o.signal);const g=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:y,signal:S}).catch(E=>{throw new fv(E)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new Iu(g);if(!g.ok)throw new Lu(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield g.json():p==="application/octet-stream"||p==="application/pdf"?_=yield g.blob():p==="text/event-stream"?_=g:p==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Lu||a instanceof Iu?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var _e={};const Yr=If(dv);var gs={},vs={},ms={},ys={},ws={},_s={},Du;function Hh(){if(Du)return _s;Du=1,Object.defineProperty(_s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _s.default=t,_s}var $u;function Kh(){if($u)return ws;$u=1,Object.defineProperty(ws,"__esModule",{value:!0});const e=Yr.__importDefault(Hh());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,h,d;let v=null,m=null,y=null,S=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const p=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(v={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,S=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const p=await l.text();try{v=JSON.parse(p),Array.isArray(v)&&l.status===404&&(m=[],v=null,S=200,g="OK")}catch{l.status===404&&p===""?(S=204,g="No Content"):v={message:p}}if(v&&this.isMaybeSingle&&(!((d=v==null?void 0:v.details)===null||d===void 0)&&d.includes("0 rows"))&&(v=null,S=200,g="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:m,count:y,status:S,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,h;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return ws.default=r,ws}var Uu;function qh(){if(Uu)return ys;Uu=1,Object.defineProperty(ys,"__esModule",{value:!0});const e=Yr.__importDefault(Kh());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ys.default=r,ys}var zu;function gl(){if(zu)return ms;zu=1,Object.defineProperty(ms,"__esModule",{value:!0});const e=Yr.__importDefault(qh()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return ms.default=n,ms}var Bu;function Gh(){if(Bu)return vs;Bu=1,Object.defineProperty(vs,"__esModule",{value:!0});const e=Yr.__importDefault(gl());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((d,v)=>d.concat(Object.keys(v)),[]);if(h.length>0){const d=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return vs.default=r,vs}var Mu;function gv(){if(Mu)return gs;Mu=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=Yr,e=t.__importDefault(Gh()),r=t.__importDefault(gl());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let h;const d=new URL(`${this.url}/rpc/${i}`);let v;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{d.searchParams.append(y,S)})):(h="POST",v=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:h,url:d,headers:m,schema:this.schemaName,body:v,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return gs.default=n,gs}Object.defineProperty(_e,"__esModule",{value:!0});var Jh=_e.PostgrestError=of=_e.PostgrestBuilder=nf=_e.PostgrestTransformBuilder=tf=_e.PostgrestFilterBuilder=Zh=_e.PostgrestQueryBuilder=Yh=_e.PostgrestClient=void 0;const Xr=Yr,Qh=Xr.__importDefault(gv());var Yh=_e.PostgrestClient=Qh.default;const Xh=Xr.__importDefault(Gh());var Zh=_e.PostgrestQueryBuilder=Xh.default;const ef=Xr.__importDefault(gl());var tf=_e.PostgrestFilterBuilder=ef.default;const rf=Xr.__importDefault(qh());var nf=_e.PostgrestTransformBuilder=rf.default;const sf=Xr.__importDefault(Kh());var of=_e.PostgrestBuilder=sf.default;const af=Xr.__importDefault(Hh());Jh=_e.PostgrestError=af.default;var lf=_e.default={PostgrestClient:Qh.default,PostgrestQueryBuilder:Xh.default,PostgrestFilterBuilder:ef.default,PostgrestTransformBuilder:rf.default,PostgrestBuilder:sf.default,PostgrestError:af.default};const vv=Af({__proto__:null,get PostgrestBuilder(){return of},get PostgrestClient(){return Yh},get PostgrestError(){return Jh},get PostgrestFilterBuilder(){return tf},get PostgrestQueryBuilder(){return Zh},get PostgrestTransformBuilder(){return nf},default:lf},[_e]),{PostgrestClient:mv,PostgrestQueryBuilder:My,PostgrestFilterBuilder:Fy,PostgrestTransformBuilder:Vy,PostgrestBuilder:Wy,PostgrestError:Hy}=lf||vv;class yv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wv="2.81.1",_v=`realtime-js/${wv}`,uf="1.0.0",Sv="2.0.0",Fu=uf,aa=1e4,kv=1e3,Ev=100;var Jt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jt||(Jt={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Ue;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ue||(Ue={}));var la;(function(t){t.websocket="websocket"})(la||(la={}));var Qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qt||(Qt={}));class xv{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+r.length+n.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,r.length),u.setUint8(c++,n.length),u.setUint8(c++,i.length),u.setUint8(c++,s.length),Array.from(r,d=>u.setUint8(c++,d.charCodeAt(0))),Array.from(n,d=>u.setUint8(c++,d.charCodeAt(0))),Array.from(i,d=>u.setUint8(c++,d.charCodeAt(0))),Array.from(s,d=>u.setUint8(c++,d.charCodeAt(0)));var h=new Uint8Array(l.byteLength+o.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(o),l.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(c),d=0;h.setUint8(d++,this.KINDS.userBroadcastPush),h.setUint8(d++,s.length),h.setUint8(d++,i.length),h.setUint8(d++,o.length),h.setUint8(d++,a.length),h.setUint8(d++,this.BINARY_ENCODING),Array.from(s,m=>h.setUint8(d++,m.charCodeAt(0))),Array.from(i,m=>h.setUint8(d++,m.charCodeAt(0))),Array.from(o,m=>h.setUint8(d++,m.charCodeAt(0))),Array.from(a,m=>h.setUint8(d++,m.charCodeAt(0)));var v=new Uint8Array(c.byteLength+l.byteLength);return v.set(new Uint8Array(c),0),v.set(new Uint8Array(l),c.byteLength),v.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(d),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,s.length),v.setUint8(m++,i.length),v.setUint8(m++,o.length),v.setUint8(m++,a.length),v.setUint8(m++,this.JSON_ENCODING),Array.from(s,S=>v.setUint8(m++,S.charCodeAt(0))),Array.from(i,S=>v.setUint8(m++,S.charCodeAt(0))),Array.from(o,S=>v.setUint8(m++,S.charCodeAt(0))),Array.from(a,S=>v.setUint8(m++,S.charCodeAt(0)));var y=new Uint8Array(d.byteLength+c.byteLength);return y.set(new Uint8Array(d),0),y.set(new Uint8Array(c),d.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+o));a=a+o;const h=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:h}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const d=n.decode(e.slice(l,l+a));l=l+a;const v=JSON.parse(n.decode(e.slice(l,e.byteLength))),m={status:d,response:v};return{join_ref:u,ref:c,topic:h,event:Ue.reply,payload:m}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:u}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,m={type:this.BROADCAST,event:c,payload:v};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class cf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Vu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=bv(o,t,e,s),i),{}):{}},bv=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?df(i,o):ua(o)},df=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Cv(e,r)}switch(t){case V.bool:return Tv(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Ov(e);case V.json:case V.jsonb:return jv(e);case V.timestamp:return Pv(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return ua(e);default:return ua(e)}},ua=t=>t,Tv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ov=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>df(e,a))}return t},Pv=t=>typeof t=="string"?t.replace(" ","T"):t,hf=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class to{constructor(e,r,n={},s=aa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wu||(Wu={}));class En{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=En.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=En.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=En.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(S=>S.presence_ref),v=h.map(S=>S.presence_ref),m=c.filter(S=>v.indexOf(S.presence_ref)<0),y=h.filter(S=>d.indexOf(S.presence_ref)<0);m.length>0&&(a[u]=m),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(v=>v.presence_ref),d=c.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hu||(Hu={}));var xn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xn||(xn={}));var lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class vl{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new to(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new cf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new En(this),this.broadcastEndpointURL=hf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[xn.PRESENCE]&&this.bindings[xn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(lt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var m;if(this.socket.setAuth(),v===void 0){e==null||e(lt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,S=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,g=[];for(let f=0;f<S;f++){const p=y[f],{filter:{event:_,schema:E,table:x,filter:T}}=p,j=v&&v[f];if(j&&j.event===_&&j.schema===E&&j.table===x&&j.filter===T)g.push(Object.assign(Object.assign({},p),{id:j.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(lt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ie.errored,e==null||e(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ie.joined&&e===xn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new to(this,Ue.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new to(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ev){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ue;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var m,y,S;return((m=v.filter)===null||m===void 0?void 0:m.event)==="*"||((S=(y=v.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var m,y,S,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,E=(m=v.filter)===null||m===void 0?void 0:m.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:y,table:S,commit_timestamp:g,type:f,errors:p}=m;d=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(m))}v.callback(d,n)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ue.close,{},e)}_onError(e){this._on(Ue.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vu(e.columns,e.old_record)),r}}const ro=()=>{},Ss={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rv=[1e3,2e3,5e3,1e4],Av=1e4,Nv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Iv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aa,this.transport=null,this.heartbeatIntervalMs=Ss.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ro,this.ref=0,this.reconnectTimer=null,this.vsn=Fu,this.logger=ro,this.conn=null,this.sendBuffer=[],this.serializer=new xv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${la.websocket}`,this.httpEndpoint=hf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jt.connecting:return Qt.Connecting;case Jt.open:return Qt.Open;case Jt.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ss.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Jt.open||this.conn.readyState===Jt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ue.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Nv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:_v};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ue.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ss.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,h,d,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:aa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ss.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:ro,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Fu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:m=>Rv[m-1]||Av,this.vsn){case uf:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(m,y)=>y(JSON.stringify(m)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(m,y)=>y(JSON.parse(m));break;case Sv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ml extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lv extends ml{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ca extends ml{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const yl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Dv=()=>Response,da=t=>{if(Array.isArray(t))return t.map(r=>da(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=da(n)}),e},$v=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},no=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Uv=(t,e,r)=>C(void 0,void 0,void 0,function*(){const n=yield Dv();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Lv(no(s),i,o))}).catch(s=>{e(new ca(no(s),s))}):e(new ca(no(t),t))}),zv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:($v(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Qn(t,e,r,n,s,i){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,zv(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Uv(l,a,n))})})}function Fn(t,e,r,n){return C(this,void 0,void 0,function*(){return Qn(t,"GET",e,r,n)})}function Je(t,e,r,n,s){return C(this,void 0,void 0,function*(){return Qn(t,"POST",e,n,s,r)})}function ha(t,e,r,n,s){return C(this,void 0,void 0,function*(){return Qn(t,"PUT",e,n,s,r)})}function Bv(t,e,r,n){return C(this,void 0,void 0,function*(){return Qn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wl(t,e,r,n,s){return C(this,void 0,void 0,function*(){return Qn(t,"DELETE",e,n,s,r)})}class Mv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return C(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}var ff;class Fv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[ff]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mv(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return C(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}ff=Symbol.toStringTag;const Vv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ku={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wv{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=yl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return C(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ku),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield(e=="PUT"?ha:Je)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}upload(e,r,n){return C(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return C(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Ku.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield ha(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(J(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return C(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Je(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ml("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}update(e,r,n){return C(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return C(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}copy(e,r,n){return C(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return C(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Je(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return C(this,void 0,void 0,function*(){try{const s=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Fn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Fv(l,this.shouldThrowOnError)}info(e){return C(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Fn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:da(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}exists(e){return C(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Bv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n)&&n instanceof ca){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return C(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}list(e,r,n){return C(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vv),r),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}listV2(e,r){return C(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const pf="2.81.1",gf={"X-Client-Info":`storage-js/${pf}`};class Hv{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),r),this.fetch=yl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return C(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Fn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}getBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}createBucket(e){return C(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return C(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}emptyBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Kv{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),r),this.fetch=yl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listBuckets(e){return C(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Fn(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}}const _l={"X-Client-Info":`storage-js/${pf}`,"Content-Type":"application/json"};class vf extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class so extends vf{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qv extends vf{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var qu;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qu||(qu={}));const Sl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jv=(t,e,r)=>C(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new so(Gu(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new so(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new so(a,s,o))}}else e(new qv(Gu(t),t))}),Qv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Gv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Yv(t,e,r,n,s,i){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Qv(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Jv(l,a,n))})})}function Ae(t,e,r,n,s){return C(this,void 0,void 0,function*(){return Yv(t,"POST",e,n,s,r)})}class Xv{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_l),r),this.fetch=Sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return C(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getIndex(e,r){return C(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listIndexes(e){return C(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return C(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}class Zv{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_l),r),this.fetch=Sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return C(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getVectors(e){return C(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listVectors(e){return C(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ae(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}queryVectors(e){return C(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteVectors(e){return C(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class em{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_l),r),this.fetch=Sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return C(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}getBucket(e){return C(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listBuckets(){return C(this,arguments,void 0,function*(e={}){try{return{data:yield Ae(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return C(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}class tm extends em{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new rm(this.url,this.headers,e,this.fetch)}}class rm extends Xv{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return C(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return C(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return C(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return C(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new nm(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class nm extends Zv{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return C(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return C(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return C(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return C(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return C(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sm extends Hv{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Wv(this.url,this.headers,e,this.fetch)}get vectors(){return new tm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kv(this.url+"/iceberg",this.headers,this.fetch)}}const im="2.81.1";let fn="";typeof Deno<"u"?fn="deno":typeof document<"u"?fn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fn="react-native":fn="node";const om={"X-Client-Info":`supabase-js-${fn}/${im}`},am={headers:om},lm={schema:"public"},um={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cm={},dm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hm=()=>Headers,fm=(t,e,r)=>{const n=dm(r),s=hm();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function pm(t){return t.endsWith("/")?t:t+"/"}function gm(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function vm(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mf="2.81.1",yr=30*1e3,fa=3,io=fa*yr,mm="http://localhost:9999",ym="supabase.auth.token",wm={"X-Client-Info":`gotrue-js/${mf}`},pa="X-Supabase-Api-Version",yf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_m=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sm=10*60*1e3;class Vn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function P(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class km extends Vn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Em(t){return P(t)&&t.name==="AuthApiError"}class Yt extends Vn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Mt extends Vn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ke extends Mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xm(t){return P(t)&&t.name==="AuthSessionMissingError"}class fr extends Mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends Mt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Es extends Mt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bm(t){return P(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ju extends Mt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ga extends Mt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function oo(t){return P(t)&&t.name==="AuthRetryableFetchError"}class Qu extends Mt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class va extends Mt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yu=` 	
\r=`.split(""),Tm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yu.length;e+=1)t[Yu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Xu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}}function wf(t,e,r){const n=Tm[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Cm(o,n,r)};for(let o=0;o<t.length;o+=1)wf(t.charCodeAt(o),s,i);return e.join("")}function Om(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jm(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Om(n,e)}}function Cm(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ur(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)wf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Pm(t){const e=[];return jm(t,r=>e.push(r)),new Uint8Array(e)}function tr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Xu(s,r,n)),Xu(null,r,n),e.join("")}function Rm(t){return Math.round(Date.now()/1e3)+t}function Am(){return Symbol("auth-callback")}const ce=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},_f=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function Nm(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Sf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Im=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ht=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_t=async(t,e)=>{await t.removeItem(e)};class ji{constructor(){this.promise=new ji.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ji.promiseConstructor=Promise;function ao(t){const e=t.split(".");if(e.length!==3)throw new va("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_m.test(e[n]))throw new va("JWT not in base64url format");return{header:JSON.parse(Zu(e[0])),payload:JSON.parse(Zu(e[1])),signature:Ur(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Dm(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function $m(t){return("0"+t.toString(16)).substr(-2)}function Um(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,$m).join("")}async function zm(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Bm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zm(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(t,e,r=!1){const n=Um();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wr(t,`${e}-code-verifier`,s);const i=await Bm(n);return[i,n===i?"plain":"s256"]}const Mm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fm(t){const e=t.headers.get(pa);if(!e||!e.match(Mm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Vm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Wm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(t){if(!Hm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Km(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function ec(t){return JSON.parse(JSON.stringify(t))}const Gt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qm=[502,503,504];async function tc(t){var e;if(!Im(t))throw new ga(Gt(t),0);if(qm.includes(t.status))throw new ga(Gt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Yt(Gt(i),i)}let n;const s=Fm(t);if(s&&s.getTime()>=yf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qu(Gt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ke}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Qu(Gt(r),t.status,r.weak_password.reasons);throw new km(Gt(r),t.status||500,n)}const Gm=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[pa]||(i[pa]=yf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Jm(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Jm(t,e,r,n,s,i){const o=Gm(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ga(Gt(l),0)}if(a.ok||await tc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await tc(l)}}function qe(t){var e;let r=null;Xm(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Rm(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function rc(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qm(t){return{data:t,error:null}}function Ym(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Qr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function nc(t){return t}function Xm(t){return t.access_token&&t.refresh_token&&t.expires_in}const uo=["global","local","others"];class Zm{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Sf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=uo[0]){if(uo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Qr(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ym,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nc});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){gr(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gr(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:bt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){gr(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:bt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){gr(e.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gr(e.userId),gr(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nc});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}}function sc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const vr={debug:!!(globalThis&&_f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ey extends kf{}async function ty(t,e,r){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ey(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ry(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ef(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ny(t){return parseInt(t,16)}function sy(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function iy(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Ef(t.address),m=c?`${c}://${n}`:n,y=t.statement?`${t.statement}
`:"",S=`${m} wants you to sign in with your Ethereum account:
${v}

${y}`;let g=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}g+=f}return`${S}
${g}`}class ne extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ui extends ne{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function oy({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(xf(o)){if(i.rp.id!==o)return new ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ay({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(xf(n)){if(r.rpId!==n)return new ne({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ly{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uy=new ly;function cy(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Qr(t,["challenge","user","excludeCredentials"]),i=Ur(e).buffer,o=Object.assign(Object.assign({},r),{id:Ur(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ur(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function dy(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Qr(t,["challenge","allowCredentials"]),s=Ur(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ur(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function hy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:tr(new Uint8Array(t.response.attestationObject)),clientDataJSON:tr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:tr(new Uint8Array(s.authenticatorData)),clientDataJSON:tr(new Uint8Array(s.clientDataJSON)),signature:tr(new Uint8Array(s.signature)),userHandle:s.userHandle?tr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ic(){var t,e;return!!(ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function py(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ui("Browser returned unexpected credential type",e)}:{data:null,error:new ui("Empty credential response",e)}}catch(e){return{data:null,error:oy({error:e,options:t})}}}async function gy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ui("Browser returned unexpected credential type",e)}:{data:null,error:new ui("Empty credential response",e)}}catch(e){return{data:null,error:ay({error:e,options:t})}}}const vy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},my={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ci(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=ci(a,o):n[i]=ci(o)}else n[i]=o}return n}function yy(t,e){return ci(vy,t,e||{})}function wy(t,e){return ci(my,t,e||{})}class _y{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??uy.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=yy(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await py({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=wy(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await gy(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new Yt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Vn("rpId is required for WebAuthn authentication")};try{if(!ic())return{data:null,error:new Yt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new Yt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Vn("rpId is required for WebAuthn registration")};try{if(!ic())return{data:null,error:new Yt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new Yt("Unexpected error in register",o)}}}}ry();const Sy={url:mm,storageKey:ym,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function oc(t,e,r){return await r()}const mr={};class Wn{get jwks(){var e,r;return(r=(e=mr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){mr[this.storageKey]=Object.assign(Object.assign({},mr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=mr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mr[this.storageKey]=Object.assign(Object.assign({},mr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Sy),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Wn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Wn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ce()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zm({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Sf(i.fetch),this.lock=i.lock||oc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ce()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ty:this.lock=oc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _y(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=sc(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ce()&&(r=Nm(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bm(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new Yt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let v=null,m=null;this.flowType==="pkce"&&([v,m]=await pr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:v,code_challenge_method:m},xform:qe})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:qe})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rc})}else throw new ks("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new fr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,h,d;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:y,wallet:S,statement:g,options:f}=e;let p;if(ce())if(typeof S=="object")p=S;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")p=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=S}const _=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),E=await p.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Ef(E[0]);let T=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const U=await p.request({method:"eth_chainId"});T=ny(U)}const j={domain:_.host,address:x,statement:g,uri:_.href,version:"1",chainId:T,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=iy(j),m=await p.request({method:"personal_sign",params:[sy(v),x]})}try{const{data:y,error:S}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:qe});if(S)throw S;if(!y||!y.session||!y.user){const g=new fr;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:S})}catch(y){if(P(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,h,d,v;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:S,wallet:g,statement:f,options:p}=e;let _;if(ce())if(typeof g=="object")_=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const E=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let T;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")T=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)T=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)m=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),y=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=x}}try{const{data:S,error:g}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:tr(y)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qe});if(g)throw g;if(!S||!S.session||!S.user){const f=new fr;return this._returnResult({data:{user:null,session:null},error:f})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:g})}catch(S){if(P(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Ht(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qe});if(await _t(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new fr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new fr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await pr(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ks("You must provide either an email or phone number.")}catch(a){if(P(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await pr(this.storage,this.storageKey));const u=await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Qm});return!((i=u.data)===null||i===void 0)&&i.url&&ce()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(P(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ke;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(P(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ks("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<io:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=lo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Km(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bt})})}catch(r){if(P(r))return xm(r)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ke;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await pr(this.storage,this.storageKey));const{data:u,error:c}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(P(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ke;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ao(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ke;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ce())throw new Es("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Es(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ju("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Es("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const v=d-c;v*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const m=d-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:y,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Em(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Am(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await pr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ce()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(P(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qe}),{data:d,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new fr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:v}))}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dm(async s=>(s>0&&await Lm(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&oo(i)&&Date.now()+o-n<yr})}catch(n){if(this._debug(r,"error",n),P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ce()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ht(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await wr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:lo()}else if(s&&!s.user&&!s.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await _t(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,s)):s.user=lo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<io;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${io}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),oo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ji;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ke;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),P(i)){const o={data:null,error:i};return oo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=ec(s);await wr(this.storage,this.storageKey,i)}else{const s=ec(r);await wr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yr}ms, refresh threshold is ${fa} ticks`),s<=fa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await pr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hy(e.webauthn.credential_response):fy(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cy(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dy(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ao(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await A(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ke});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ke});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Sm>s)return n;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:m}=await this.getSession();if(m||!v.session)return this._returnResult({data:null,error:m});n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ao(n);r!=null&&r.allowExpired||Vm(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=Wm(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Pm(`${a}.${l}`)))throw new va("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}}Wn.nextInstanceID={};const ky=Wn;class Ey extends ky{constructor(e){super(e)}}class xy{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=vm(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:lm,realtime:cm,auth:Object.assign(Object.assign({},um),{storageKey:l}),global:am},c=gm(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=fm(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new mv(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new sm(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new pv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},h,d){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ey({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Iv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const by=(t,e,r)=>new xy(t,e,r);function Ty(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ty()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Oy="https://ccgiozknvlknbrkzfcdx.supabase.co",jy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjZ2lvemtudmxrbmJya3pmY2R4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NTY3NTMsImV4cCI6MjA3ODQzMjc1M30.lmmuGnynbY_n_4UlsrGw5ofRd6p9QLKCcrfHf7itEg8",he=by(Oy,jy),kl="DAILY_DIARY_KEY_CHECK_v1",ma=t=>btoa(String.fromCharCode(...new Uint8Array(t))),ya=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer,bf=new TextEncoder,Cy=new TextDecoder,Tf=()=>{const t=window.crypto.getRandomValues(new Uint8Array(16));return ma(t.buffer)},El=async(t,e)=>{const r=bf.encode(t),n=ya(e),s=await window.crypto.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},xl=async(t,e)=>{const r=window.crypto.getRandomValues(new Uint8Array(12)),n=bf.encode(e),s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,n);return{iv:ma(r.buffer),data:ma(s)}},Of=async(t,e,r)=>{const n=ya(r),s=ya(e),i=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,s);return Cy.decode(i)};async function jf(t,e){const{data:r,error:n}=await he.from("profiles").select("*").eq("id",e).single();if(n||!r)return console.error("Profile not found for user:",e),null;const s=r;try{const i=await El(t,s.salt);return await Of(i,s.key_check_value,s.key_check_iv)===kl?i:null}catch(i){return console.error("Key derivation or verification failed:",i),null}}const Cf=D.createContext(void 0),Py=({children:t})=>{const[e,r]=D.useState(null),n={key:e,setKey:r,deriveAndVerifyKey:jf,encrypt:xl,decrypt:Of};return w.jsx(Cf.Provider,{value:n,children:t})},Pf=()=>{const t=D.useContext(Cf);if(t===void 0)throw new Error("useCrypto must be used within a CryptoProvider");return t},Ry=()=>{const[t,e]=D.useState(!1),[r,n]=D.useState(""),[s,i]=D.useState(""),[o,a]=D.useState(!1),[l,u]=D.useState(null),{setKey:c}=Pf(),h=async()=>{const{error:m}=await he.auth.signUp({email:r,password:s});if(m)throw m;alert("Check your email for the confirmation link!")},d=async()=>{const{data:{user:m},error:y}=await he.auth.signInWithPassword({email:r,password:s});if(y)throw y;if(!m)throw new Error("Sign in failed, no user returned.");const{data:S,error:g}=await he.from("profiles").select("*").eq("id",m.id).single();if(g||!S)throw g||new Error("Profile not found");if(S.salt==="INITIAL_SALT"){const f=Tf(),p=await El(s,f),{iv:_,data:E}=await xl(p,kl),{error:x}=await he.from("profiles").update({salt:f,key_check_value:E,key_check_iv:_}).eq("id",m.id);if(x)throw x;c(p)}else{const f=await jf(s,m.id);if(f)c(f);else throw await he.auth.signOut(),new Error("Incorrect password or corrupt profile data. Could not decrypt diary key.")}},v=async m=>{m.preventDefault(),e(!0),u(null);try{o?await h():await d()}catch(y){u(y.error_description||y.message)}finally{e(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:w.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Diary"}),w.jsx("p",{className:"text-slate-500 mt-2",children:o?"Create a secure, encrypted account.":"Sign in to access your journal."})]}),l&&w.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:l}),w.jsxs("form",{className:"space-y-6",onSubmit:v,children:[w.jsx("input",{type:"email",placeholder:"Your email",value:r,required:!0,onChange:m=>n(m.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsx("input",{type:"password",placeholder:"Your password (min 6 characters)",value:s,required:!0,minLength:6,onChange:m=>i(m.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsx("button",{type:"submit",disabled:t,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300",children:t?"Loading...":o?"Sign Up":"Sign In"})]}),w.jsx("p",{className:"text-xs text-center text-slate-400",children:"Note: For security, password reset is not supported. If you forget your password, your encrypted data will be unrecoverable."}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-slate-300"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or"})})]}),w.jsxs("p",{className:"text-center text-sm text-slate-500",children:[o?"Already have an account? ":"Don't have an account? ",w.jsx("button",{onClick:()=>{a(!o),u(null)},className:"font-medium text-indigo-600 hover:text-indigo-500",children:o?"Sign In":"Sign Up"})]})]})})},Ay=({onNewEntry:t,onGoHome:e,currentView:r,onToggleView:n,searchTerm:s,onSearchTermChange:i,startDate:o,onStartDateChange:a,endDate:l,onEndDateChange:u,onSignOut:c})=>{const h=r==="list";return w.jsx("header",{className:"bg-white shadow-md sticky top-0 z-10",children:w.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 md:px-8 py-4 flex justify-between items-center flex-wrap gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:e,children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-500 group-hover:text-indigo-600 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),w.jsx("h1",{className:"text-2xl font-bold text-slate-800 group-hover:text-slate-900 transition-colors",children:"Diary"})]}),w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap justify-end grow sm:grow-0",children:[h&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400 absolute left-2.5 top-1/2 -translate-y-1/2 pointer-events-none",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),w.jsx("input",{type:"search",placeholder:"Search...",value:s,onChange:d=>i(d.target.value),className:"pl-8 pr-2 py-1.5 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-sm w-32 sm:w-40","aria-label":"Search diary entries"})]}),w.jsxs("div",{className:"flex items-center gap-1.5",children:[w.jsx("input",{type:"date",value:o,onChange:d=>a(d.target.value),className:"border border-slate-300 rounded-md px-2 py-1.5 text-sm text-slate-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Start date for search"}),w.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),w.jsx("input",{type:"date",value:l,onChange:d=>u(d.target.value),className:"border border-slate-300 rounded-md px-2 py-1.5 text-sm text-slate-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"End date for search"})]})]}),(r==="list"||r==="calendar")&&w.jsx("button",{onClick:n,className:"p-2 rounded-md hover:bg-slate-100 text-slate-500 hover:text-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors","aria-label":r==="list"?"Switch to Calendar View":"Switch to List View",children:r==="list"?w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}):w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),w.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-indigo-500 text-white font-semibold px-4 py-2 rounded-lg shadow-sm hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 ease-in-out transform hover:scale-105",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),w.jsx("span",{className:"hidden sm:inline",children:"New Entry"})]}),w.jsx("button",{onClick:c,className:"p-2 rounded-md hover:bg-slate-100 text-slate-500 hover:text-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":"Sign Out",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})},Ny=({entries:t,onSelectEntry:e})=>t.length===0?null:w.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-lg border border-indigo-200 shadow-sm",children:[w.jsxs("h3",{className:"text-lg font-bold text-indigo-800 mb-4 flex items-center gap-2",children:[w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l-3-3m0 0l3-3m-3 3h9"})]}),"On This Day..."]}),w.jsx("div",{className:"space-y-3",children:t.map(r=>{const n=new Date(r.date).getFullYear(),s=new Date().getFullYear()-n;return w.jsxs("div",{onClick:()=>e(r.id),className:"bg-white/60 p-3 rounded-md cursor-pointer hover:bg-white transition-colors flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-700",children:r.title}),w.jsxs("p",{className:"text-sm text-slate-500",children:[s," year",s>1?"s":""," ago"]})]}),w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},r.id)})})]}),Iy=({entries:t,onSelectEntry:e,totalEntries:r,onThisDayEntries:n})=>{if(r===0)return w.jsxs("div",{className:"text-center py-20",children:[w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-16 w-16 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v11.494m-9-5.747h18"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]}),w.jsx("h2",{className:"mt-4 text-2xl font-semibold text-slate-600",children:"No entries yet"}),w.jsx("p",{className:"mt-2 text-slate-500",children:'Click "New Entry" to write your first diary post.'})]});const s=t.length===0&&r>0;return w.jsxs("div",{className:"space-y-6",children:[w.jsx(Ny,{entries:n,onSelectEntry:e}),s?w.jsxs("div",{className:"text-center py-20",children:[w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-16 w-16 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5h-6"})]}),w.jsx("h2",{className:"mt-4 text-2xl font-semibold text-slate-600",children:"No Results Found"}),w.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search terms or date range."})]}):w.jsx("div",{className:"space-y-4",children:t.map(i=>w.jsxs("div",{onClick:()=>e(i.id),className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-lg transition-shadow duration-300 cursor-pointer border border-slate-200 hover:border-indigo-300",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:i.title}),w.jsx("span",{className:"text-sm text-slate-500 whitespace-nowrap",children:new Date(i.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),w.jsx("p",{className:"text-slate-600 line-clamp-2",children:i.content})]},i.id))})]})},Ly=({entry:t,onEdit:e,onDelete:r})=>w.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 animate-fade-in",children:[w.jsx("div",{className:"border-b border-slate-200 pb-4 mb-4",children:w.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[w.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t.title}),w.jsx("p",{className:"text-sm text-slate-500",children:new Date(t.date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})})]})}),w.jsx("div",{className:"prose prose-slate max-w-none whitespace-pre-wrap break-words my-6",children:t.content}),w.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-6 flex justify-end gap-3",children:[w.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-slate-100 text-slate-700 font-semibold px-4 py-2 rounded-lg hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[w.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),w.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Edit"]}),w.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-red-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]}),ac=({entry:t,onSave:e,onCancel:r})=>{const[n,s]=D.useState(""),[i,o]=D.useState("");D.useEffect(()=>{t&&(s(t.title),o(t.content))},[t]);const a=l=>{if(l.preventDefault(),n.trim()===""||i.trim()===""){alert("Please fill out both title and content.");return}e({title:n,content:i},t==null?void 0:t.id)};return w.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-md border border-slate-200 animate-fade-in",children:[w.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-6 border-b pb-4",children:t?"Edit Entry":"New Entry"}),w.jsxs("form",{onSubmit:a,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),w.jsx("input",{type:"text",id:"title",value:n,onChange:l=>s(l.target.value),className:"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"A beautiful day",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),w.jsx("textarea",{id:"content",value:i,onChange:l=>o(l.target.value),rows:15,className:"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Write about your day...",required:!0})]}),w.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[w.jsx("button",{type:"button",onClick:r,className:"bg-slate-100 text-slate-700 font-semibold px-4 py-2 rounded-lg hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors",children:"Cancel"}),w.jsx("button",{type:"submit",className:"bg-indigo-500 text-white font-semibold px-4 py-2 rounded-lg shadow-sm hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:"Save Entry"})]})]})]})},Dy=({entries:t,onSelectDate:e})=>{const[r,n]=D.useState(new Date),s=D.useMemo(()=>{const u=new Set;return t.forEach(c=>{u.add(new Date(c.date).toISOString().split("T")[0])}),u},[t]),i=u=>{n(c=>{const h=new Date(c);return h.setMonth(h.getMonth()+u),h})},o=()=>w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("button",{onClick:()=>i(-1),className:"p-2 rounded-full hover:bg-slate-100",children:"<"}),w.jsx("h2",{className:"text-xl font-bold text-slate-700",children:r.toLocaleString("default",{month:"long",year:"numeric"})}),w.jsx("button",{onClick:()=>i(1),className:"p-2 rounded-full hover:bg-slate-100",children:">"})]}),a=()=>{const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return w.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-slate-500 text-sm",children:u.map(c=>w.jsx("div",{children:c},c))})},l=()=>{const u=new Date(r.getFullYear(),r.getMonth(),1),c=new Date(r.getFullYear(),r.getMonth()+1,0),h=new Date(u);h.setDate(h.getDate()-u.getDay());const d=new Date(c);d.setDate(d.getDate()+(6-c.getDay()));const v=[];let m=[],y=h;for(;y<=d;){for(let S=0;S<7;S++){const g=new Date(y),f=g.toISOString().split("T")[0],p=s.has(f);m.push(w.jsxs("div",{className:`p-1 h-20 flex flex-col items-center justify-center rounded-lg transition-colors ${g.getMonth()!==r.getMonth()?"text-slate-300":"text-slate-700"} ${p?"cursor-pointer bg-indigo-100 hover:bg-indigo-200":""}`,onClick:p?()=>e(g):void 0,children:[w.jsx("span",{className:`text-sm ${new Date().toDateString()===g.toDateString()?"bg-indigo-500 text-white rounded-full h-6 w-6 flex items-center justify-center":""}`,children:g.getDate()}),p&&w.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full mt-1"})]},y.toString())),y.setDate(y.getDate()+1)}v.push(w.jsx("div",{className:"grid grid-cols-7 gap-1",children:m},y.toString())),m=[]}return w.jsx("div",{className:"space-y-1",children:v})};return w.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md border border-slate-200 animate-fade-in",children:[o(),a(),w.jsx("div",{className:"mt-2",children:l()})]})},$y=({onSuccess:t,session:e})=>{const[r,n]=D.useState(""),[s,i]=D.useState(!1),[o,a]=D.useState(null),l=async u=>{if(u.preventDefault(),r.length<6){a("Password must be at least 6 characters long.");return}i(!0),a(null);try{const c=e.user;if(!c)throw new Error("User not available.");const h=Tf(),d=await El(r,h),{iv:v,data:m}=await xl(d,kl),{error:y}=await he.from("profiles").update({salt:h,key_check_value:m,key_check_iv:v}).eq("id",c.id);if(y)throw y;t(d)}catch(c){a(c.error_description||c.message||"An unknown error occurred during setup."),console.error("Encryption initialization failed:",c)}finally{i(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:w.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Final Security Step"}),w.jsx("p",{className:"text-slate-500 mt-2",children:"To complete your secure setup, please enter your password one more time."})]}),w.jsx("p",{className:"text-xs text-center text-slate-600 bg-slate-50 p-3 rounded-md border",children:"This is required to create your unique encryption key. Your password is never stored, and this one-time step ensures your diary remains private and end-to-end encrypted."}),o&&w.jsx("p",{className:"text-center text-red-500 bg-red-50 p-3 rounded-md",children:o}),w.jsxs("form",{className:"space-y-6",onSubmit:l,children:[w.jsx("input",{type:"password",placeholder:"Your password",value:r,required:!0,minLength:6,onChange:u=>n(u.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-2 font-semibold text-white bg-indigo-500 rounded-md hover:bg-indigo-600 disabled:bg-indigo-300",children:s?"Securing...":"Initialize Diary"})]})]})})},Uy=({session:t})=>{const[e,r]=D.useState([]),[n,s]=D.useState(!0),[i,o]=D.useState({view:"list"}),[a,l]=D.useState(""),[u,c]=D.useState(""),[h,d]=D.useState(""),{key:v,setKey:m,encrypt:y,decrypt:S}=Pf(),[g,f]=D.useState("checking");D.useEffect(()=>{(async()=>{if(v){f("complete");return}try{const{data:B,error:q}=await he.from("profiles").select("salt").eq("id",t.user.id).single();if(q)throw q;B&&B.salt==="INITIAL_SALT"?f("needed"):await he.auth.signOut()}catch(B){console.error("Error checking profile for initialization:",B),alert("There was a problem accessing your profile. Please log out and log in again."),await he.auth.signOut()}})()},[v,t.user.id]);const p=$=>{m($),f("complete")},_=D.useCallback(async()=>{if(v)try{s(!0);const{data:$,error:B}=await he.from("diaries").select("*").order("date",{ascending:!1});if(B)throw B;const q=await Promise.all(($||[]).map(async te=>{const b=await S(v,te.encrypted_entry,te.iv),{title:R,content:N}=JSON.parse(b);return{...te,title:R,content:N}}));r(q)}catch($){console.error("Error fetching or decrypting entries:",$),alert("Could not load your diary. The data may be corrupt or the encryption key is wrong.")}finally{s(!1)}},[v,S]);D.useEffect(()=>{g==="complete"&&_()},[_,g]);const E=D.useMemo(()=>e.filter($=>{const B=new Date($.date);B.setHours(0,0,0,0);const q=a.trim()===""||$.title.toLowerCase().includes(a.toLowerCase())||$.content.toLowerCase().includes(a.toLowerCase());let te=!0;if(u){const b=new Date(u);b.setHours(0,0,0,0),B<b&&(te=!1)}if(h){const b=new Date(h);b.setHours(0,0,0,0),B>b&&(te=!1)}return q&&te}),[e,a,u,h]),x=D.useMemo(()=>{const $=new Date,B=$.getMonth(),q=$.getDate();return e.filter(te=>{const b=new Date(te.date);return b.getMonth()===B&&b.getDate()===q&&b.getFullYear()<$.getFullYear()}).sort((te,b)=>new Date(b.date).getTime()-new Date(te.date).getTime())},[e]),T=D.useCallback(async($,B)=>{if(!v){alert("Security session expired. Please log in again.");return}try{const q=JSON.stringify({title:$.title,content:$.content}),{iv:te,data:b}=await y(v,q);if(B){const{error:R}=await he.from("diaries").update({encrypted_entry:b,iv:te}).eq("id",B);if(R)throw R;r(N=>N.map(F=>F.id===B?{...F,title:$.title,content:$.content}:F))}else{const R={owner_id:t.user.id,date:new Date().toISOString(),encrypted_entry:b,iv:te},{data:N,error:F}=await he.from("diaries").insert(R).select().single();if(F)throw F;const re={...N,title:$.title,content:$.content};r(dr=>[re,...dr].sort((ot,Zr)=>new Date(Zr.date).getTime()-new Date(ot.date).getTime()))}o({view:"list"})}catch(q){console.error("Error saving entry:",q),alert("Failed to save entry. Please try again.")}},[t.user.id,v,y]),j=D.useCallback(async $=>{if(window.confirm("Are you sure you want to delete this entry?"))try{const{error:B}=await he.from("diaries").delete().eq("id",$);if(B)throw B;r(q=>q.filter(te=>te.id!==$)),o({view:"list"})}catch(B){console.error("Error deleting entry:",B),alert("Failed to delete entry. Please try again.")}},[]),U=async()=>{await he.auth.signOut()},I=()=>{o({view:"list"}),l(""),c(""),d("")},Ce=()=>o($=>({view:$.view==="list"?"calendar":"list"})),Ft=$=>{const B=new Date($.getTime()-$.getTimezoneOffset()*6e4).toISOString().split("T")[0];c(B),d(B),o({view:"list"})},yt=()=>{if(g==="checking")return w.jsxs("div",{className:"text-center py-20",children:[w.jsx("h2",{className:"text-2xl font-semibold text-slate-600",children:"Initializing Secure Session..."}),w.jsx("p",{className:"mt-2 text-slate-500",children:"Please wait while we prepare your encrypted diary. If this takes too long, please try refreshing the page."})]});if(g==="needed")return w.jsx($y,{onSuccess:p,session:t});if(n)return w.jsx("p",{className:"text-center text-slate-500 mt-8",children:"Loading your encrypted diary..."});switch(i.view){case"entry":const $=e.find(q=>q.id===i.id);return $?w.jsx(Ly,{entry:$,onEdit:()=>o({view:"edit",id:i.id}),onDelete:()=>j(i.id)}):w.jsx("p",{children:"Entry not found."});case"edit":const B=e.find(q=>q.id===i.id);return B?w.jsx(ac,{entry:B,onSave:T,onCancel:()=>o({view:"entry",id:i.id})}):w.jsx("p",{children:"Entry not found."});case"new":return w.jsx(ac,{onSave:T,onCancel:()=>o({view:"list"})});case"calendar":return w.jsx(Dy,{entries:e,onSelectDate:Ft});case"list":default:return w.jsx(Iy,{entries:E,totalEntries:e.length,onThisDayEntries:x,onSelectEntry:q=>o({view:"entry",id:q})})}};return g!=="complete"?w.jsx("main",{className:"max-w-4xl mx-auto p-4 sm:p-6 md:p-8",children:yt()}):w.jsxs(w.Fragment,{children:[w.jsx(Ay,{onNewEntry:()=>o({view:"new"}),onGoHome:I,currentView:i.view,onToggleView:Ce,searchTerm:a,onSearchTermChange:l,startDate:u,onStartDateChange:c,endDate:h,onEndDateChange:d,onSignOut:U}),w.jsx("main",{className:"max-w-4xl mx-auto p-4 sm:p-6 md:p-8",children:yt()})]})},zy=()=>{const[t,e]=D.useState(null),[r,n]=D.useState(!0);return D.useEffect(()=>{(async()=>{const{data:{session:o}}=await he.auth.getSession();e(o),n(!1)})();const{data:{subscription:i}}=he.auth.onAuthStateChange((o,a)=>{e(a)});return()=>i.unsubscribe()},[]),r?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsx("p",{className:"text-slate-500",children:"Loading..."})}):w.jsx(Py,{children:w.jsx("div",{className:"min-h-screen bg-slate-50 font-sans",children:t?w.jsx(Uy,{session:t},t.user.id):w.jsx(Ry,{})})})},Rf=document.getElementById("root");if(!Rf)throw new Error("Could not find root element to mount to");const By=co.createRoot(Rf);By.render(w.jsx(Qf.StrictMode,{children:w.jsx(zy,{})}));
